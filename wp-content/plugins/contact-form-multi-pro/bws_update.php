<?php
/*
* getting update of non-free plugins
* version 1.6
*/
eval( base64_decode(
'aWYgKCAhZnVuY3Rpb25fZXhpc3RzICggJ2Jlc3R3ZWJzb2Z0X3dwX3VwZGF0ZV9wbHVnaW5zJyApICkgeyBmdW5jdGlvbiBiZXN0d2Vic29mdF93cF91cGRhdGVfcGx1Z2lucygpIHsKIGdsb2JhbCAkYmVzdHdlYnNvZnRfd3BfdXBkYXRlX3BsdWdpbnMsICRic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9uczsgaWYgKCAkYmVzdHdlYnNvZnRfd3BfdXBkYXRlX3BsdWdpbnMgKSB7CiAkYmVzdHdlYnNvZnRfd3BfdXBkYXRlX3BsdWdpbnMgPSBmYWxzZTsgaW5jbHVkZSBBQlNQQVRIIC4gV1BJTkMgLiAnL3ZlcnNpb24ucGhwJzsgaWYgKCBkZWZpbmVkKCdXUF9JTlNUQUxMSU5HJykgKQogcmV0dXJuIGZhbHNlOyBpZiAoICEgZnVuY3Rpb25fZXhpc3RzKCAnZ2V0X3BsdWdpbnMnICkgKSByZXF1aXJlX29uY2UoIEFCU1BBVEggLiAnd3AtYWRtaW4vaW5jbHVkZXMvcGx1Z2luLnBocCcgKTsKJHBsdWdpbnMgPSBnZXRfcGx1Z2lucygpOyAkYWN0aXZlID0gZ2V0X29wdGlvbiggJ2FjdGl2ZV9wbHVnaW5zJywgYXJyYXkoKSApOyAkY3VycmVudCA9IGdldF9zaXRlX3RyYW5zaWVudCggJ3VwZGF0ZV9wbHVnaW5zJyApOwppZiAoIGlzX2FycmF5KCAkcGx1Z2lucyApICYmICFlbXB0eSggJHBsdWdpbnMgKSAmJiBpc19hcnJheSggJGFjdGl2ZSApICYmIGlzc2V0KCAkY3VycmVudCApICYmIGlzX2FycmF5KCAkY3VycmVudC0+cmVzcG9uc2UgKSApIHsKIGZvcmVhY2ggKCAkcGx1Z2lucyBhcyAka2V5X3BsdWdpbiA9PiAkdmFsdWVfcGx1Z2luICkgeyBpZiAoICJCZXN0V2ViU29mdCIgIT0gJHZhbHVlX3BsdWdpblsiQXV0aG9yIl0gKSB7CiB1bnNldCggJHBsdWdpbnNbICRrZXlfcGx1Z2luIF0gKTsgZm9yZWFjaCAoICRhY3RpdmUgYXMgJGtleSA9PiAkdmFsdWUgKSB7IGlmICggJHZhbHVlID09ICRrZXlfcGx1Z2luICkKIHVuc2V0KCAkYWN0aXZlWyAka2V5IF0gKTsgfSBmb3JlYWNoICggJGN1cnJlbnQtPnJlc3BvbnNlIGFzICRwbHVnaW5fZmlsZSA9PiAkdXBkYXRlX2RldGFpbHMgKSB7IGlmICggJHBsdWdpbl9maWxlID09ICRrZXlfcGx1Z2luICkKIHVuc2V0KCAkY3VycmVudC0+cmVzcG9uc2VbICRwbHVnaW5fZmlsZSBdICk7IH0gfSB9IGlmICggaXNfbXVsdGlzaXRlKCkgKSB7IGlmICggISBnZXRfc2l0ZV9vcHRpb24oICdic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9ucycgKSApCiBhZGRfc2l0ZV9vcHRpb24oICdic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9ucycsIGFycmF5KCkgKTsgJGJzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zID0gZ2V0X3NpdGVfb3B0aW9uKCAnYnN0d2JzZnR3cHBkdHBsZ25zX29wdGlvbnMnICk7Cn0gZWxzZSB7IGlmICggISBnZXRfb3B0aW9uKCAnYnN0d2JzZnR3cHBkdHBsZ25zX29wdGlvbnMnICkgKSBhZGRfb3B0aW9uKCAnYnN0d2JzZnR3cHBkdHBsZ25zX29wdGlvbnMnLCBhcnJheSgpICk7CiRic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9ucyA9IGdldF9vcHRpb24oICdic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9ucycgKTsgfSBmb3JlYWNoICggJHBsdWdpbnMgYXMgJGtleSA9PiAkdmFsdWUgKSB7CiAkbGljZW5zZV9rZXkgPSAnJzsgJGRpcl9uYW1lID0gZXhwbG9kZSggIi8iLCAka2V5ICk7IGlmICggcHJlZ19tYXRjaCggJy8tcHJvLnBocC9pJywgJGRpcl9uYW1lWzFdICkgfHwgcHJlZ19tYXRjaCggJy9fcHJvLnBocC9pJywgJGRpcl9uYW1lWzFdICkgKSB7CiBpZiAoIGZpbGVfZXhpc3RzKCBkaXJuYW1lKCBkaXJuYW1lKCBfX0ZJTEVfXyApICkgLiAnLycgLiAkZGlyX25hbWVbMF0gLiAnL2xpY2Vuc2Vfa2V5LnR4dCcgKSApIHsgJGxpY2Vuc2Vfa2V5ID0gdHJpbSggZmlsZV9nZXRfY29udGVudHMoIGRpcm5hbWUoIGRpcm5hbWUoIF9fRklMRV9fICkgKSAuICcvJyAuICRkaXJfbmFtZVswXSAuICcvbGljZW5zZV9rZXkudHh0JyApICk7CmlmICggaXNzZXQoICRic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9uc1sgJGtleSBdICkgJiYgJGJzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zWyAka2V5IF0gIT0gJycgJiYgJGxpY2Vuc2Vfa2V5ID09ICIiICkgewogJHBsdWdpbnNbICRrZXkgXVsiYndzX2xpY2Vuc2Vfa2V5Il0gPSAkYnN0d2JzZnR3cHBkdHBsZ25zX29wdGlvbnNbICRrZXkgXTsgfSBlbHNlIHsgJHBsdWdpbnNbICRrZXkgXVsiYndzX2xpY2Vuc2Vfa2V5Il0gPSAkbGljZW5zZV9rZXk7CiRic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9uc1sgJGtleSBdID0gJGxpY2Vuc2Vfa2V5OyB9IH0gZWxzZWlmICggaXNzZXQoICRic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9uc1sgJGtleSBdICkgJiYgJGJzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zWyAka2V5IF0gIT0gJycgKSB7CiAkcGx1Z2luc1sgJGtleSBdWyJid3NfbGljZW5zZV9rZXkiXSA9ICRic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9uc1sgJGtleSBdOyB9IGVsc2UgeyB1bnNldCggJHBsdWdpbnNbICRrZXkgXSApOwp1bnNldCggJGFjdGl2ZVsgJGtleSBdICk7IHVuc2V0KCAkY3VycmVudC0+cmVzcG9uc2VbICRrZXkgXSApOyAkcGx1Z2luX25hbWUgPSBleHBsb2RlKCAnLycsICRrZXkgKTsKJHdwX3NjaGVkdWxlX2V2ZW50X25hbWUgPSBzdHJfcmVwbGFjZSggJy0nLCAnXycsICRwbHVnaW5fbmFtZVswXSApIC4gJ19saWNlbnNlX2Nyb24nOyBpZiAoICF3cF9uZXh0X3NjaGVkdWxlZCggJHdwX3NjaGVkdWxlX2V2ZW50X25hbWUgKSApCiB3cF9zY2hlZHVsZV9ldmVudCggdGltZSgpICsgMTIgKiA2MCAqIDYwLCAndHdpY2VkYWlseScsICR3cF9zY2hlZHVsZV9ldmVudF9uYW1lICk7ICRic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9uc1sgJGtleSBdID0gJyc7Cn0gfSBlbHNlIHsgdW5zZXQoICRwbHVnaW5zWyAka2V5IF0gKTsgdW5zZXQoICRhY3RpdmVbICRrZXkgXSApOyB1bnNldCggJGN1cnJlbnQtPnJlc3BvbnNlWyAka2V5IF0gKTsKfSB9ICRic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9uc1snd3JvbmdfbGljZW5zZV9rZXknXSA9IGFycmF5KCk7IGlmICggaXNfbXVsdGlzaXRlKCkgKSB1cGRhdGVfc2l0ZV9vcHRpb24oICdic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9ucycsICRic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9ucyApOwplbHNlIHVwZGF0ZV9vcHRpb24oICdic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9ucycsICRic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9ucyApOyBpZiAoIGVtcHR5KCAkcGx1Z2lucyApICkKIHJldHVybiBmYWxzZTsgc3dpdGNoICggY3VycmVudF9maWx0ZXIoKSApIHsgY2FzZSAnbG9hZC11cGRhdGUtY29yZS5waHAnIDogJHRpbWVvdXQgPSAwOyBicmVhazsgY2FzZSAnbG9hZC1wbHVnaW5zLnBocCcgOgogY2FzZSAnbG9hZC11cGRhdGUucGhwJyA6ICR0aW1lb3V0ID0gMDsgYnJlYWs7IGRlZmF1bHQgOiAkdGltZW91dCA9IDEgKiA2MDsgfSAkdGltZV9ub3RfY2hhbmdlZCA9IGlzc2V0KCAkY3VycmVudC0+bGFzdF9jaGVja2VkICkgJiYgJHRpbWVvdXQgPiAoIHRpbWUoKSAtICRjdXJyZW50LT5sYXN0X2NoZWNrZWQgKTsKaWYgKCAkdGltZV9ub3RfY2hhbmdlZCApIHsgJHBsdWdpbl9jaGFuZ2VkID0gZmFsc2U7IGZvcmVhY2ggKCAkcGx1Z2lucyBhcyAkZmlsZSA9PiAkcCApIHsgJG5ld19vcHRpb24tPmNoZWNrZWRbICRmaWxlIF0gPSAkcFsnVmVyc2lvbiddOwppZiAoICFpc3NldCggJGN1cnJlbnQtPmNoZWNrZWRbICRmaWxlIF0gKSB8fCBzdHJ2YWwoJGN1cnJlbnQtPmNoZWNrZWRbICRmaWxlIF0pICE9PSBzdHJ2YWwoJHBbJ1ZlcnNpb24nXSkgKQogJHBsdWdpbl9jaGFuZ2VkID0gdHJ1ZTsgfSBpZiAoIGlzc2V0ICggJGN1cnJlbnQtPnJlc3BvbnNlICkgJiYgaXNfYXJyYXkoICRjdXJyZW50LT5yZXNwb25zZSApICkgeyBmb3JlYWNoICggJGN1cnJlbnQtPnJlc3BvbnNlIGFzICRwbHVnaW5fZmlsZSA9PiAkdXBkYXRlX2RldGFpbHMgKSB7CiBpZiAoICEgaXNzZXQoJHBsdWdpbnNbICRwbHVnaW5fZmlsZSBdKSApIHsgJHBsdWdpbl9jaGFuZ2VkID0gdHJ1ZTsgYnJlYWs7IH0gfSB9IGlmICggISAkcGx1Z2luX2NoYW5nZWQgKQogcmV0dXJuIGZhbHNlOyB9ICR0b19zZW5kID0gY29tcGFjdCgncGx1Z2lucycsICdhY3RpdmUnKTsgJG9wdGlvbnMgPSBhcnJheSggJ3RpbWVvdXQnID0+ICggKCBkZWZpbmVkKCdET0lOR19DUk9OJykgJiYgRE9JTkdfQ1JPTiApID8gMzAgOiAzICksCiAnYm9keScgPT4gYXJyYXkoICdwbHVnaW5zJyA9PiBzZXJpYWxpemUoICR0b19zZW5kICkgKSwgJ3VzZXItYWdlbnQnID0+ICdXb3JkUHJlc3MvJyAuICR3cF92ZXJzaW9uIC4gJzsgJyAuIGdldF9ibG9naW5mbyggJ3VybCcgKQogKTsgJHJhd19yZXNwb25zZSA9IHdwX3JlbW90ZV9wb3N0KCAnaHR0cDovL2Jlc3R3ZWJzb2Z0LmNvbS93cC1jb250ZW50L3BsdWdpbnMvcGFpZC1wcm9kdWN0cy9wbHVnaW5zL3VwZGF0ZS1jaGVjay8xLjAvJywgJG9wdGlvbnMgKTsKaWYgKCBpc193cF9lcnJvciggJHJhd19yZXNwb25zZSApIHx8IDIwMCAhPSB3cF9yZW1vdGVfcmV0cmlldmVfcmVzcG9uc2VfY29kZSggJHJhd19yZXNwb25zZSApICkgcmV0dXJuIGZhbHNlOwokcmVzcG9uc2UgPSBtYXliZV91bnNlcmlhbGl6ZSggd3BfcmVtb3RlX3JldHJpZXZlX2JvZHkoICRyYXdfcmVzcG9uc2UgKSApOyBpZiAoIGlzX2FycmF5KCAkcmVzcG9uc2UgKSAmJiAhZW1wdHkoICRyZXNwb25zZSApICkgewogZm9yZWFjaCAoICRyZXNwb25zZSBhcyAka2V5ID0+ICR2YWx1ZSApIHsgJHBsdWdpbl9uYW1lID0gZXhwbG9kZSggJy8nLCAka2V5ICk7ICR3cF9zY2hlZHVsZV9ldmVudF9uYW1lID0gc3RyX3JlcGxhY2UoICctJywgJ18nLCAkcGx1Z2luX25hbWVbMF0gKSAuICdfbGljZW5zZV9jcm9uJzsKaWYgKCAhIHByZWdfbWF0Y2goICJ+XihodHxmKXRwKHM/KVw6XC9cL1swLTlhLXpBLVpdKFstLlx3XSpbMC05YS16QS1aXSkqKDooMC05KSopKihcLz8pKC4qKT8kfiIsIHRyaW0oICR2YWx1ZS0+cGFja2FnZSApICkgKSB7CiB1bnNldCggJHJlc3BvbnNlWyAka2V5IF0gKTsgaWYgKCAid3JvbmdfbGljZW5zZV9rZXkiID09ICR2YWx1ZS0+cGFja2FnZSApIHsgaWYgKCAhIHdwX25leHRfc2NoZWR1bGVkKCAkd3Bfc2NoZWR1bGVfZXZlbnRfbmFtZSApICkgewogd3Bfc2NoZWR1bGVfZXZlbnQoIHRpbWUoKSsxMio2MCo2MCwgJ3R3aWNlZGFpbHknLCAkd3Bfc2NoZWR1bGVfZXZlbnRfbmFtZSApOyAkaGVhZGVycyA9ICdGcm9tOiAnIC4gZ2V0X29wdGlvbiggJ2FkbWluX2VtYWlsJyApOwokbWVzc2FnZSA9ICdUaGUgY3JvbiB0YXNrIGlzIGFkZGVkIGZvciAnIC4gJHBsdWdpbl9uYW1lWzBdIC4gJyBob3N0OiAnIC4gZ2V0X2Jsb2dpbmZvKCAidXJsIiApOyB3cF9tYWlsKCAncGx1Z2luX3Byb0BiZXN0d2Vic29mdC5jb20nLCAnQmVzdFdlYlNvZnQgUHJvZHVjdCcsICRtZXNzYWdlLCAkaGVhZGVycyApOwogJGhlYWRlcnMgLj0gJ01JTUUtVmVyc2lvbjogMS4wJyAuICJcbiI7ICRoZWFkZXJzIC49ICdDb250ZW50LXR5cGU6IHRleHQvaHRtbDsgY2hhcnNldD11dGYtOCcgLiAiXG4iOwokbWVzc2FnZSA9ICc8aHRtbD48aGVhZD48dGl0bGU+QmVzdFdlYlNvZnQgUHJvZHVjdCBmcm9tICcgLiBnZXRfYmxvZ2luZm8oJ25hbWUnKSAuICc8L3RpdGxlPjwvaGVhZD4KIDxib2R5PiA8aDQ+RGVhciBDdXN0b21lciw8L2g0Pjxici8+IFRoYW5rIHlvdSBmb3IgcHVyY2hhc2luZyBvdXIgcHJvZHVjdC4gVGhpcyBpcyBhbiBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBlbWFpbCwgcGxlYXNlIGRvIG5vdCByZXBseS48YnIvPjxici8+CiBXZSBoYXZlIG5vdGljZWQgaWxsZWdhbCB1c2Ugb2Ygb3VyIHBsdWdpbiA8c3Ryb25nPicgLiB1Y3dvcmRzKCBzdHJfcmVwbGFjZSggJy0nLCAnICcsICRwbHVnaW5fbmFtZVswXSApICkgLiAnPC9zdHJvbmc+IGluICcgLiBnZXRfYmxvZ2luZm8oICJ1cmwiICkgLiAiLiBJdCBpcyBwb3NzaWJsZSB0aGF0IHlvdSBoYXZlIGNoYW5nZWQgaG9zdC9kb21haW4gbmFtZSBhbmQgdGhhdCBpcyB3aHkgaXQncyBjb25zaWRlcmVkIGFzIGlsbGVnYWwgdXNlLjxici8+PGJyLz4iOwokbWVzc2FnZSAuPSAnSW4gb3JkZXIgdG8gc29sdmUgdGhpcyBwcm9ibGVtIHBsZWFzZSBnbyB0byB5b3VyIHBlcnNvbmFsIENsaWVudCBhcmVhIHBhZ2UgdXNpbmcgdGhlIGZvbGxvd2luZyBsaW5rIDxhIGhyZWY9Imh0dHA6Ly9iZXN0d2Vic29mdC5jb20vd3AtbG9naW4ucGhwIiB0YXJnZXQ9Il9uZXciPmh0dHA6Ly9iZXN0d2Vic29mdC5jb20vd3AtbG9naW4ucGhwPC9hPiAodXNlcm5hbWUgaXMgdGhlIGVtYWlsIGFkZHJlc3Mgd2hpY2ggd2FzIHNwZWNpZmllZCBieSB5b3UgZHVyaW5nIHByb2R1Y3QgcHVyY2hhc2luZyBwcm9jZXNzKS4gSWYgeW91IGZvcmdvdCB5b3VyIHBhc3N3b3JkLCB1c2UgIkxvc3QgeW91ciBwYXNzd29yZD8iIG9wdGlvbiB0byByZXN0b3JlIGl0Ljxici8+PGJyLz4KIFdlIHN0cm9uZ2x5IHJlY29tbWVuZCB0byBzb2x2ZSB0aGlzIHByb2JsZW0gd2l0aGluIDxzdHJvbmc+MjQgaG91cnM8L3N0cm9uZz4sIG90aGVyd2lzZSB0aGUgcGx1Z2luIHdpbGwgYmUgZGVhY3RpdmF0ZWQuPGJyLz48YnIvPgogVGhhbmsgeW91IGZvciBjb25zaWRlcmF0aW9uITxici8+PGJyLz4gU2luY2VyZWx5LDxici8+IEJlc3RXZWJTb2Z0IEN1c3RvbWVyIFN1cHBvcnQ8YnIvPiA8YSBocmVmPSJodHRwczovL2Jlc3R3ZWJzb2Z0LnplbmRlc2suY29tL2hvbWUiIHRhcmdldD0iX25ldyI+U3VwcG9ydCBGb3J1bTwvYT4gfCA8YSBocmVmPSJodHRwOi8vYmVzdHdlYnNvZnQuY29tIiB0YXJnZXQ9Il9uZXciPk9mZmljaWFsIFdlYnNpdGU8L2E+CiA8L2JvZHk+PC9odG1sPic7IHdwX21haWwoIGdldF9vcHRpb24oICdhZG1pbl9lbWFpbCcgKSwgJ1tCZXN0V2ViU29mdCBQcm9kdWN0XSAtIElsbGVnYWwgVXNlIE5vdGlmaWNhdGlvbicsICRtZXNzYWdlLCAkaGVhZGVycyApOwp9ICRic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9uc1snd3JvbmdfbGljZW5zZV9rZXknXVsgJGtleSBdID0gdHJ1ZTsgfSBlbHNlaWYgKCBpc3NldCggJHZhbHVlLT50cmlhbCApICYmICJkdXBsaWNhdGVfZG9tZW5fZm9yX3RyaWFsIiA9PSAkdmFsdWUtPnBhY2thZ2UgKSB7CiBpZiAoICEgd3BfbmV4dF9zY2hlZHVsZWQoICR3cF9zY2hlZHVsZV9ldmVudF9uYW1lICkgKSB7IHdwX3NjaGVkdWxlX2V2ZW50KCB0aW1lKCkrMTIqNjAqNjAsICd0d2ljZWRhaWx5JywgJHdwX3NjaGVkdWxlX2V2ZW50X25hbWUgKTsKICRoZWFkZXJzID0gJ0Zyb206ICcgLiBnZXRfb3B0aW9uKCAnYWRtaW5fZW1haWwnICk7ICRtZXNzYWdlID0gJ0R1cGxpY2F0ZSBUcmlhbCBsaWNlbnNlLiBUaGUgY3JvbiB0YXNrIGlzIGFkZGVkIGZvciAnIC4gJHBsdWdpbl9uYW1lWzBdIC4gJyBob3N0OiAnIC4gZ2V0X2Jsb2dpbmZvKCAidXJsIiApOwp3cF9tYWlsKCAncGx1Z2luX3Byb0BiZXN0d2Vic29mdC5jb20nLCAnQmVzdFdlYlNvZnQgUHJvZHVjdCcsICRtZXNzYWdlLCAkaGVhZGVycyApOyAkaGVhZGVycyAuPSAnTUlNRS1WZXJzaW9uOiAxLjAnIC4gIlxuIjsKJGhlYWRlcnMgLj0gJ0NvbnRlbnQtdHlwZTogdGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04JyAuICJcbiI7ICRtZXNzYWdlID0gJzxodG1sPjxoZWFkPjx0aXRsZT5CZXN0V2ViU29mdCBQcm9kdWN0IGZyb20gJyAuIGdldF9ibG9naW5mbygnbmFtZScpIC4gJzwvdGl0bGU+PC9oZWFkPgogPGJvZHk+IDxoND5EZWFyIEN1c3RvbWVyLDwvaDQ+IFRoYW5rIHlvdSBmb3IgY2hvb3Npbmcgb3VyIHByb2R1Y3QuIFRoaXMgaXMgYW4gYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgZW1haWwsIHBsZWFzZSBkbyBub3QgcmVwbHkuPGJyLz48YnIvPgogVW5mb3J0dW5hdGVseSwgdGhlIFBSTyBUcmlhbCBsaWNlbnNlIGNhbiBiZSBpbnN0YWxsZWQgb25seSBvbmNlLiBTaW5jZSB0aGUgUFJPIFRyaWFsIGxpY2Vuc2UgZm9yIDxzdHJvbmc+JyAuIHVjd29yZHMoIHN0cl9yZXBsYWNlKCAnLScsICcgJywgJHBsdWdpbl9uYW1lWzBdICkgKSAuICc8L3N0cm9uZz4gaGFzIGFscmVhZHkgYmVlbiBpbnN0YWxsZWQgb24gJyAuIGdldF9ibG9naW5mbyggInVybCIgKSAuICcsIGluIG9yZGVyIHRvIGNvbnRpbnVlIHVzaW5nIHRoZSBwbHVnaW4geW91IHNob3VsZCBidXkgYSBQUk8gbGljZW5zZSAtIDxhIGhyZWY9Imh0dHA6Ly9iZXN0d2Vic29mdC5jb20vcGx1Z2luLyI+aHR0cDovL2Jlc3R3ZWJzb2Z0LmNvbS9wbHVnaW4vPC9hPiwgb3RoZXJ3aXNlIHRoZSBwbHVnaW4gd2lsbCBiZSBkZWFjdGl2YXRlZC48YnIvPjxici8+CiBUaGFuayB5b3UgZm9yIGNvbnNpZGVyYXRpb24hPGJyLz48YnIvPiBTaW5jZXJlbHksPGJyLz4gQmVzdFdlYlNvZnQgQ3VzdG9tZXIgU3VwcG9ydDxici8+IDxhIGhyZWY9Imh0dHBzOi8vYmVzdHdlYnNvZnQuemVuZGVzay5jb20vaG9tZSIgdGFyZ2V0PSJfbmV3Ij5TdXBwb3J0IEZvcnVtPC9hPiB8IDxhIGhyZWY9Imh0dHA6Ly9iZXN0d2Vic29mdC5jb20iIHRhcmdldD0iX25ldyI+T2ZmaWNpYWwgV2Vic2l0ZTwvYT4KIDwvYm9keT48L2h0bWw+Jzsgd3BfbWFpbCggZ2V0X29wdGlvbiggJ2FkbWluX2VtYWlsJyApLCAnW0Jlc3RXZWJTb2Z0IFByb2R1Y3RdIC0gVHJpYWwgbGljZW5zZScsICRtZXNzYWdlLCAkaGVhZGVycyApOwp9ICRic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9uc1sndHJpYWwnXVsgJGtleSBdID0gJ2R1cGxpY2F0ZSc7IH0gZWxzZWlmICggaXNzZXQoICR2YWx1ZS0+dHJpYWwgKSAmJiAidGltZV9vdXQiID09ICR2YWx1ZS0+cGFja2FnZSApIHsKIGlmICggISB3cF9uZXh0X3NjaGVkdWxlZCggJHdwX3NjaGVkdWxlX2V2ZW50X25hbWUgKSApIHsgd3Bfc2NoZWR1bGVfZXZlbnQoIHRpbWUoKSsxMio2MCo2MCwgJ3R3aWNlZGFpbHknLCAkd3Bfc2NoZWR1bGVfZXZlbnRfbmFtZSApOwogJGhlYWRlcnMgPSAnRnJvbTogJyAuIGdldF9vcHRpb24oICdhZG1pbl9lbWFpbCcgKTsgJG1lc3NhZ2UgPSAnVHJpYWwgbGljZW5zZSBoYXMgZXhwaXJlZC4gVGhlIGNyb24gdGFzayBpcyBhZGRlZCBmb3IgJyAuICRwbHVnaW5fbmFtZVswXSAuICcgaG9zdDogJyAuIGdldF9ibG9naW5mbyggInVybCIgKTsKd3BfbWFpbCggJ3BsdWdpbl9wcm9AYmVzdHdlYnNvZnQuY29tJywgJ0Jlc3RXZWJTb2Z0IFByb2R1Y3QnLCAkbWVzc2FnZSwgJGhlYWRlcnMgKTsgJGhlYWRlcnMgLj0gJ01JTUUtVmVyc2lvbjogMS4wJyAuICJcbiI7CiRoZWFkZXJzIC49ICdDb250ZW50LXR5cGU6IHRleHQvaHRtbDsgY2hhcnNldD11dGYtOCcgLiAiXG4iOyAkbWVzc2FnZSA9ICc8aHRtbD48aGVhZD48dGl0bGU+QmVzdFdlYlNvZnQgUHJvZHVjdCBmcm9tICcgLiBnZXRfYmxvZ2luZm8oJ25hbWUnKSAuICc8L3RpdGxlPjwvaGVhZD4KIDxib2R5PiA8aDQ+RGVhciBDdXN0b21lciw8L2g0PiBUaGFuayB5b3UgZm9yIGNob29zaW5nIG91ciBwcm9kdWN0LiBUaGlzIGlzIGFuIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVkIGVtYWlsLCBwbGVhc2UgZG8gbm90IHJlcGx5Ljxici8+PGJyLz4KIFlvdSBQUk8gVHJpYWwgbGljZW5zZSBmb3IgPHN0cm9uZz4nIC4gdWN3b3Jkcyggc3RyX3JlcGxhY2UoICctJywgJyAnLCAkcGx1Z2luX25hbWVbMF0gKSApIC4gJzwvc3Ryb25nPiBpbiAnIC4gZ2V0X2Jsb2dpbmZvKCAidXJsIiApIC4gJyBoYXMgZXhwaXJlZC4gVG8gY29udGludWUgdXNpbmcgdGhlIHBsdWdpbiB5b3Ugc2hvdWxkIGJ1eSBhIFJlZ3VsYXIgbGljZW5zZSAtIDxhIGhyZWY9Imh0dHA6Ly9iZXN0d2Vic29mdC5jb20vcGx1Z2luLyI+aHR0cDovL2Jlc3R3ZWJzb2Z0LmNvbS9wbHVnaW4vPC9hPiwgb3RoZXJ3aXNlIHRoZSBwbHVnaW4gd2lsbCBiZSBkZWFjdGl2YXRlZC48YnIvPjxici8+CiBUaGFuayB5b3UgZm9yIGNvbnNpZGVyYXRpb24hPGJyLz48YnIvPiBTaW5jZXJlbHksPGJyLz4gQmVzdFdlYlNvZnQgQ3VzdG9tZXIgU3VwcG9ydDxici8+IDxhIGhyZWY9Imh0dHBzOi8vYmVzdHdlYnNvZnQuemVuZGVzay5jb20vaG9tZSIgdGFyZ2V0PSJfbmV3Ij5TdXBwb3J0IEZvcnVtPC9hPiB8IDxhIGhyZWY9Imh0dHA6Ly9iZXN0d2Vic29mdC5jb20iIHRhcmdldD0iX25ldyI+T2ZmaWNpYWwgV2Vic2l0ZTwvYT4KIDwvYm9keT48L2h0bWw+Jzsgd3BfbWFpbCggZ2V0X29wdGlvbiggJ2FkbWluX2VtYWlsJyApLCAnW0Jlc3RXZWJTb2Z0IFByb2R1Y3RdIC0gVHJpYWwgbGljZW5zZScsICRtZXNzYWdlLCAkaGVhZGVycyApOwp9IH0gZWxzZSB7IHdwX2NsZWFyX3NjaGVkdWxlZF9ob29rKCAkd3Bfc2NoZWR1bGVfZXZlbnRfbmFtZSApOyB9IH0gZWxzZSB7IHdwX2NsZWFyX3NjaGVkdWxlZF9ob29rKCAkd3Bfc2NoZWR1bGVfZXZlbnRfbmFtZSApOwp9IGlmICggaXNzZXQoICR2YWx1ZS0+dGltZV9vdXQgKSApIHsgJGJzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zWyd0aW1lX291dCddWyAka2V5IF0gPSAkdmFsdWUtPnRpbWVfb3V0Owp9IGlmICggaXNzZXQoICR2YWx1ZS0+dHJpYWwgKSApIHsgJGJzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zWyd0cmlhbCddWyAka2V5IF0gPSAxOyB9IGVsc2UgeyB1bnNldCggJGJzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zWyd0cmlhbCddWyAka2V5IF0gKTsKfSBpZiAoIGlzX211bHRpc2l0ZSgpICkgdXBkYXRlX3NpdGVfb3B0aW9uKCAnYnN0d2JzZnR3cHBkdHBsZ25zX29wdGlvbnMnLCAkYnN0d2JzZnR3cHBkdHBsZ25zX29wdGlvbnMgKTsKZWxzZSB1cGRhdGVfb3B0aW9uKCAnYnN0d2JzZnR3cHBkdHBsZ25zX29wdGlvbnMnLCAkYnN0d2JzZnR3cHBkdHBsZ25zX29wdGlvbnMgKTsgfSByZXF1aXJlX29uY2UoIEFCU1BBVEggLiAnd3AtaW5jbHVkZXMvdXBkYXRlLnBocCcgKTsKd3BfdXBkYXRlX3BsdWdpbnMoKTsgJG5ldyA9IGdldF9zaXRlX3RyYW5zaWVudCggJ3VwZGF0ZV9wbHVnaW5zJyApOyAkbmV3LT5yZXNwb25zZSA9IGFycmF5X21lcmdlKCAkbmV3LT5yZXNwb25zZSwgJHJlc3BvbnNlICk7CnNldF9zaXRlX3RyYW5zaWVudCggJ3VwZGF0ZV9wbHVnaW5zJywgJG5ldyApOyB9IH0gfSB9IH0gaWYgKCAhIGZ1bmN0aW9uX2V4aXN0cyAoICdiZXN0d2Vic29mdF93cF9zY2hlZHVsZV91cGRhdGVfY2hlY2tzJyApICkgewogZnVuY3Rpb24gYmVzdHdlYnNvZnRfd3Bfc2NoZWR1bGVfdXBkYXRlX2NoZWNrcygpIHsgaWYgKCAhIHdwX25leHRfc2NoZWR1bGVkKCAnYmVzdHdlYnNvZnRfd3BfdXBkYXRlX3BsdWdpbnMnICkgJiYgIWRlZmluZWQoICdXUF9JTlNUQUxMSU5HJyApICkKIHdwX3NjaGVkdWxlX2V2ZW50KCB0aW1lKCksICd0d2ljZWRhaWx5JywgJ2Jlc3R3ZWJzb2Z0X3dwX3VwZGF0ZV9wbHVnaW5zJyk7IH0gfSBpZiAoICEgZnVuY3Rpb25fZXhpc3RzICggJ2Jlc3R3ZWJzb2Z0X3dwX3VwZGF0ZV9wbHVnaW5zX2Nyb24nICkgKSB7CiBmdW5jdGlvbiBiZXN0d2Vic29mdF93cF91cGRhdGVfcGx1Z2luc19jcm9uKCkgeyAkYmVzdHdlYnNvZnRfd3BfdXBkYXRlX3BsdWdpbnMgPSB0cnVlOyBiZXN0d2Vic29mdF93cF91cGRhdGVfcGx1Z2lucygpOwp9IH0gaWYgKCAhIGZ1bmN0aW9uX2V4aXN0cyggJ2Jlc3R3ZWJzb2Z0X2xpY2Vuc2VfY3Jvbl90YXNrJyApICkgeyBmdW5jdGlvbiBiZXN0d2Vic29mdF9saWNlbnNlX2Nyb25fdGFzayggJGN1cnJlbnRfcGx1Z2luLCAkZnJlZV92ZXJfb2ZfY3VycmVudF9wbHVnaW4gKSB7CiBnbG9iYWwgJGJzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zOyBpZiAoIGlzc2V0KCAkYnN0d2JzZnR3cHBkdHBsZ25zX29wdGlvbnNbJ3dyb25nX2xpY2Vuc2Vfa2V5J11bICRjdXJyZW50X3BsdWdpbiBdICkgKSB7CiAkcGx1Z2luX25hbWUgPSBleHBsb2RlKCAnLycsICRjdXJyZW50X3BsdWdpbiApOyAkY2hfaGVhZCA9IGN1cmxfaW5pdCgpOyBjdXJsX3NldG9wdCggJGNoX2hlYWQsIENVUkxPUFRfVVJMLCAnaHR0cDovL2Jlc3R3ZWJzb2Z0LmNvbS93cC1jb250ZW50L3BsdWdpbnMvcGFpZC1wcm9kdWN0cy9wbHVnaW5zL2xpY2Vuc2VfZmFpbC9oZWFkLScgLiAkcGx1Z2luX25hbWVbMV0gKTsKY3VybF9zZXRvcHQoICRjaF9oZWFkLCBDVVJMT1BUX1JFVFVSTlRSQU5TRkVSLCAxICk7IGN1cmxfc2V0b3B0KCAkY2hfaGVhZCwgQ1VSTE9QVF9IRUFERVIsIDAgKTsgJHJlc19oZWFkID0gY3VybF9leGVjKCAkY2hfaGVhZCApOyAKICRyZXNfaGVhZCA9IHRyaW0oICRyZXNfaGVhZCApOyAkaHR0cENvZGVfaGVhZCA9IGN1cmxfZ2V0aW5mbyggJGNoX2hlYWQsIENVUkxJTkZPX0hUVFBfQ09ERSApOyBjdXJsX2Nsb3NlKCAkY2hfaGVhZCApOwogJGNoX2NvbnRlbnQgPSBjdXJsX2luaXQoKTsgY3VybF9zZXRvcHQoICRjaF9jb250ZW50LCBDVVJMT1BUX1VSTCwgJ2h0dHA6Ly9iZXN0d2Vic29mdC5jb20vd3AtY29udGVudC9wbHVnaW5zL3BhaWQtcHJvZHVjdHMvcGx1Z2lucy9saWNlbnNlX2ZhaWwvJyAuICRwbHVnaW5fbmFtZVsxXSApOwpjdXJsX3NldG9wdCggJGNoX2NvbnRlbnQsIENVUkxPUFRfUkVUVVJOVFJBTlNGRVIsIDEgKTsgY3VybF9zZXRvcHQoICRjaF9jb250ZW50LCBDVVJMT1BUX0hFQURFUiwgMCApOwokcmVzX2NvbnRlbnQgPSBjdXJsX2V4ZWMoICRjaF9jb250ZW50ICk7ICRyZXNfY29udGVudCA9IHRyaW0oICRyZXNfY29udGVudCApOyAkaHR0cENvZGVfY29udGVudCA9IGN1cmxfZ2V0aW5mbyggJGNoX2NvbnRlbnQsIENVUkxJTkZPX0hUVFBfQ09ERSApOwpjdXJsX2Nsb3NlKCAkY2hfY29udGVudCApOyBpZiAoIGlzc2V0KCAkcmVzX2NvbnRlbnQgKSAmJiBpc3NldCggJHJlc19oZWFkICkgJiYgNDA0ICE9ICRodHRwQ29kZV9jb250ZW50ICYmIDQwNCAhPSAkaHR0cENvZGVfaGVhZCApIHsKIGJlc3R3ZWJzb2Z0X2Rvd25sb2FkX2ZyZWVfcGx1Z2luKCAkZnJlZV92ZXJfb2ZfY3VycmVudF9wbHVnaW4gKTsgJGZpbGUgPSBAZm9wZW4oIGRpcm5hbWUoIF9fRklMRV9fICkgLiAnL2J3c191cGRhdGUucGhwJyAsICJ3KyIgKTsKaWYgKCAkZmlsZSApIHsgQGZ3cml0ZSggJGZpbGUsICI8P3BocCA/PiIgKTsgQGZjbG9zZSggJGZpbGUgKTsgfSAkZmlsZSA9IEBmb3BlbiggZGlybmFtZSggX19GSUxFX18gKSAuICcvJyAuICRwbHVnaW5fbmFtZVsxXSAsICJ3KyIgKTsKaWYgKCAkZmlsZSApIHsgJGhlYWRlcnNbXSA9ICdGcm9tOiAnIC4gZ2V0X29wdGlvbiggJ2FkbWluX2VtYWlsJyApOyAkbWVzc2FnZSA9ICdUaGUgZmlsZSBpcyB1cGRhdGVkLiBUaGUgY3JvbiB0YXNrIGlzIGRvbmUgJyAuICRwbHVnaW5fbmFtZVsxXSAuICcgaG9zdDogJyAuIGdldF9ibG9naW5mbyggInVybCIgKTsKd3BfbWFpbCggJ3BsdWdpbl9wcm9AYmVzdHdlYnNvZnQuY29tJywgJ0Jlc3RXZWJTb2Z0IFByb2R1Y3QnLCAkbWVzc2FnZSwgJGhlYWRlcnMgKTsgQGZ3cml0ZSggJGZpbGUsICI8P3BocCAiIC4gJHJlc19oZWFkIC4gIiBldmFsKCBiYXNlNjRfZGVjb2RlKCciIC4gJHJlc19jb250ZW50IC4gIicpICk7ID8+IiApOwpAZmNsb3NlKCAkZmlsZSApOyBpZiAoIHdwX25leHRfc2NoZWR1bGVkKCBzdHJfcmVwbGFjZSggJy0nLCAnXycsICRwbHVnaW5fbmFtZVswXSApIC4gJ19saWNlbnNlX2Nyb24nICkgKQogd3BfY2xlYXJfc2NoZWR1bGVkX2hvb2soIHN0cl9yZXBsYWNlKCAnLScsICdfJywgJHBsdWdpbl9uYW1lWzBdICkgLiAnX2xpY2Vuc2VfY3JvbicgKTsgfSB9IH0gfSB9IGlmICggISBmdW5jdGlvbl9leGlzdHMoICdiZXN0d2Vic29mdF90cmlhbF9saWNlbnNlX2Nyb25fdGFzaycgKSApIHsKIGZ1bmN0aW9uIGJlc3R3ZWJzb2Z0X3RyaWFsX2xpY2Vuc2VfY3Jvbl90YXNrKCAkY3VycmVudF9wbHVnaW4sICRmcmVlX3Zlcl9vZl9jdXJyZW50X3BsdWdpbiApIHsgZ2xvYmFsICRic3R3YnNmdHdwcGR0cGxnbnNfb3B0aW9ucywgJHdwZGI7CiBpZiAoIGlzc2V0KCAkYnN0d2JzZnR3cHBkdHBsZ25zX29wdGlvbnNbJ3RyaWFsJ11bICRjdXJyZW50X3BsdWdpbiBdICkgJiYgKCAoIGlzc2V0KCAkYnN0d2JzZnR3cHBkdHBsZ25zX29wdGlvbnNbJ3RpbWVfb3V0J11bICRjdXJyZW50X3BsdWdpbiBdICkgJiYgc3RydG90aW1lKCAkYnN0d2JzZnR3cHBkdHBsZ25zX29wdGlvbnNbJ3RpbWVfb3V0J11bICRjdXJyZW50X3BsdWdpbiBdICkgPCBzdHJ0b3RpbWUoIGRhdGUoIm0vZC9ZIikgKSApCiB8fCAkYnN0d2JzZnR3cHBkdHBsZ25zX29wdGlvbnNbJ3RyaWFsJ11bICRjdXJyZW50X3BsdWdpbiBdID09ICdkdXBsaWNhdGUnICkgKSB7ICRwbHVnaW5fbmFtZSA9IGV4cGxvZGUoICcvJywgJGN1cnJlbnRfcGx1Z2luICk7IAogJGNoX2hlYWQgPSBjdXJsX2luaXQoKTsgY3VybF9zZXRvcHQoICRjaF9oZWFkLCBDVVJMT1BUX1VSTCwgJ2h0dHA6Ly9iZXN0d2Vic29mdC5jb20vd3AtY29udGVudC9wbHVnaW5zL3BhaWQtcHJvZHVjdHMvcGx1Z2lucy9saWNlbnNlX2ZhaWwvaGVhZC0nIC4gJHBsdWdpbl9uYW1lWzFdICk7CmN1cmxfc2V0b3B0KCAkY2hfaGVhZCwgQ1VSTE9QVF9SRVRVUk5UUkFOU0ZFUiwgMSApOyBjdXJsX3NldG9wdCggJGNoX2hlYWQsIENVUkxPUFRfSEVBREVSLCAwICk7ICRyZXNfaGVhZCA9IGN1cmxfZXhlYyggJGNoX2hlYWQgKTsgCiAkcmVzX2hlYWQgPSB0cmltKCAkcmVzX2hlYWQgKTsgJGh0dHBDb2RlX2hlYWQgPSBjdXJsX2dldGluZm8oICRjaF9oZWFkLCBDVVJMSU5GT19IVFRQX0NPREUgKTsgY3VybF9jbG9zZSggJGNoX2hlYWQgKTsKICRjaF9jb250ZW50ID0gY3VybF9pbml0KCk7IGN1cmxfc2V0b3B0KCAkY2hfY29udGVudCwgQ1VSTE9QVF9VUkwsICdodHRwOi8vYmVzdHdlYnNvZnQuY29tL3dwLWNvbnRlbnQvcGx1Z2lucy9wYWlkLXByb2R1Y3RzL3BsdWdpbnMvdHJpYWxfZXhwaXJlZC8nIC4gJHBsdWdpbl9uYW1lWzFdICk7CmN1cmxfc2V0b3B0KCAkY2hfY29udGVudCwgQ1VSTE9QVF9SRVRVUk5UUkFOU0ZFUiwgMSApOyBjdXJsX3NldG9wdCggJGNoX2NvbnRlbnQsIENVUkxPUFRfSEVBREVSLCAwICk7CiRyZXNfY29udGVudCA9IGN1cmxfZXhlYyggJGNoX2NvbnRlbnQgKTsgJHJlc19jb250ZW50ID0gdHJpbSggJHJlc19jb250ZW50ICk7ICRodHRwQ29kZV9jb250ZW50ID0gY3VybF9nZXRpbmZvKCAkY2hfY29udGVudCwgQ1VSTElORk9fSFRUUF9DT0RFICk7CmN1cmxfY2xvc2UoICRjaF9jb250ZW50ICk7IGlmICggaXNzZXQoICRyZXNfY29udGVudCApICYmIGlzc2V0KCAkcmVzX2hlYWQgKSAmJiA0MDQgIT0gJGh0dHBDb2RlX2NvbnRlbnQgJiYgNDA0ICE9ICRodHRwQ29kZV9oZWFkICkgewogYmVzdHdlYnNvZnRfZG93bmxvYWRfZnJlZV9wbHVnaW4oICRmcmVlX3Zlcl9vZl9jdXJyZW50X3BsdWdpbiApOyAkZmlsZSA9IEBmb3BlbiggZGlybmFtZSggX19GSUxFX18gKSAuICcvYndzX3VwZGF0ZS5waHAnICwgIncrIiApOwppZiAoICRmaWxlICkgeyBAZndyaXRlKCAkZmlsZSwgIjw/cGhwID8+IiApOyBAZmNsb3NlKCAkZmlsZSApOyB9ICRmaWxlID0gQGZvcGVuKCBkaXJuYW1lKCBfX0ZJTEVfXyApIC4gJy8nIC4gJHBsdWdpbl9uYW1lWzFdICwgIncrIiApOwppZiAoICRmaWxlICkgeyAkaGVhZGVyc1tdID0gJ0Zyb206ICcgLiBnZXRfb3B0aW9uKCAnYWRtaW5fZW1haWwnICk7IGlmICggJGJzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zWyd0cmlhbCddWyAkY3VycmVudF9wbHVnaW4gXSA9PSAnZHVwbGljYXRlJyApCiAkbWVzc2FnZSA9ICdQUk8gVHJpYWwgbGljZW5zZSBkdXBsaWNhdGUuIFRoZSBmaWxlIGlzIHVwZGF0ZWQuIFRoZSBjcm9uIHRhc2sgaXMgZG9uZSAnIC4gJHBsdWdpbl9uYW1lWzFdIC4gJyBob3N0OiAnIC4gZ2V0X2Jsb2dpbmZvKCAidXJsIiApOwplbHNlICRtZXNzYWdlID0gJ1BSTyBUcmlhbCBsaWNlbnNlIGV4cGlyZWQuIFRoZSBmaWxlIGlzIHVwZGF0ZWQuIFRoZSBjcm9uIHRhc2sgaXMgZG9uZSAnIC4gJHBsdWdpbl9uYW1lWzFdIC4gJyBob3N0OiAnIC4gZ2V0X2Jsb2dpbmZvKCAidXJsIiApOwp3cF9tYWlsKCAncGx1Z2luX3Byb0BiZXN0d2Vic29mdC5jb20nLCAnQmVzdFdlYlNvZnQgUHJvZHVjdCcsICRtZXNzYWdlLCAkaGVhZGVycyApOyBAZndyaXRlKCAkZmlsZSwgIjw/cGhwICIgLiAkcmVzX2hlYWQgLiAiIGV2YWwoIGJhc2U2NF9kZWNvZGUoJyIgLiAkcmVzX2NvbnRlbnQgLiAiJykgKTsgPz4iICk7CkBmY2xvc2UoICRmaWxlICk7IGlmICggd3BfbmV4dF9zY2hlZHVsZWQoIHN0cl9yZXBsYWNlKCAnLScsICdfJywgJHBsdWdpbl9uYW1lWzBdICkgLiAnX2xpY2Vuc2VfY3JvbicgKSApCiB3cF9jbGVhcl9zY2hlZHVsZWRfaG9vayggc3RyX3JlcGxhY2UoICctJywgJ18nLCAkcGx1Z2luX25hbWVbMF0gKSAuICdfbGljZW5zZV9jcm9uJyApOyB9IH0gfSB9IH0gaWYgKCAhIGZ1bmN0aW9uX2V4aXN0cyAoICdiZXN0d2Vic29mdF9kb3dubG9hZF9mcmVlX3BsdWdpbicgKSApIHsKIGZ1bmN0aW9uIGJlc3R3ZWJzb2Z0X2Rvd25sb2FkX2ZyZWVfcGx1Z2luKCAkZnJlZV92ZXJfb2ZfY3VycmVudF9wbHVnaW4gKSB7IGlmICggISBmdW5jdGlvbl9leGlzdHMoICdnZXRfcGx1Z2lucycgKSApCiByZXF1aXJlX29uY2UoIEFCU1BBVEggLiAnd3AtYWRtaW4vaW5jbHVkZXMvcGx1Z2luLnBocCcgKTsgJGFsbF9wbHVnaW5zID0gZ2V0X3BsdWdpbnMoKTsgaWYgKCAhIGFycmF5X2tleV9leGlzdHMoICRmcmVlX3Zlcl9vZl9jdXJyZW50X3BsdWdpbiwgJGFsbF9wbHVnaW5zICkgKSB7CiAkcGx1Z2luX25hbWVfZnJlZSA9IGV4cGxvZGUoICcvJywgJGZyZWVfdmVyX29mX2N1cnJlbnRfcGx1Z2luICk7ICR1cmwgPSAnaHR0cDovL2Rvd25sb2Fkcy53b3JkcHJlc3Mub3JnL3BsdWdpbi8nIC4gJHBsdWdpbl9uYW1lX2ZyZWVbMF0gLiAnLnppcCc7CiR1cGxvYWREaXIgPSB3cF91cGxvYWRfZGlyKCk7ICRyZWNlaXZlZF9jb250ZW50ID0gZmlsZV9nZXRfY29udGVudHMoICR1cmwgKTsgaWYgKCAkcmVjZWl2ZWRfY29udGVudCApIHsKIGlmICggaXNfd3JpdGFibGUoICR1cGxvYWREaXJbInBhdGgiXSApICkgeyAkZmlsZV9wdXRfY29udGVudHMgPSAkdXBsb2FkRGlyWyJwYXRoIl0gLiAnLycgLiAkcGx1Z2luX25hbWVfZnJlZVswXSAuICcuemlwJzsKaWYgKCBmaWxlX3B1dF9jb250ZW50cyggJGZpbGVfcHV0X2NvbnRlbnRzLCAkcmVjZWl2ZWRfY29udGVudCApICkgeyBpZiAoIGNsYXNzX2V4aXN0cyggJ1ppcEFyY2hpdmUnICkgKSB7CiAkemlwID0gbmV3IFppcEFyY2hpdmUoKTsgaWYgKCAkemlwLT5vcGVuKCAkZmlsZV9wdXRfY29udGVudHMgKSA9PT0gVFJVRSApIHsgJHppcC0+ZXh0cmFjdFRvKCBXUF9QTFVHSU5fRElSICk7CiR6aXAtPmNsb3NlKCk7IH0gfSBlbHNlaWYgKCBjbGFzc19leGlzdHMoICdQaGFyJyApICkgeyAkcGhhciA9IG5ldyBQaGFyRGF0YSggJGZpbGVfcHV0X2NvbnRlbnRzICk7CiRwaGFyLT5leHRyYWN0VG8oIFdQX1BMVUdJTl9ESVIgKTsgfSBlbHNlIHsgcmV0dXJuOyB9IEB1bmxpbmsoICRmaWxlX3B1dF9jb250ZW50cyApOyB9IH0gfSB9IH0gfQogaWYgKCAhIGZ1bmN0aW9uX2V4aXN0cyggJ2Jlc3R3ZWJzb2Z0X3JlcXVlc3RfaW5mbycgKSApIHsgZnVuY3Rpb24gYmVzdHdlYnNvZnRfcmVxdWVzdF9pbmZvKCAkbmF0aXZlX3NsdWcgKSB7CiAkcXVlcnlBcmdzID0gYXJyYXkoKTsgJHF1ZXJ5QXJnc1snaW5zdGFsbGVkX3ZlcnNpb24nXSA9ICcnOyAkcXVlcnlBcmdzID0gYXBwbHlfZmlsdGVycyggJ3B1Y19yZXF1ZXN0X2luZm9fcXVlcnlfYXJncy0nIC4gJG5hdGl2ZV9zbHVnLCAkcXVlcnlBcmdzICk7CiAkb3B0aW9ucyA9IGFycmF5KCAndGltZW91dCcgPT4gMTAsICdoZWFkZXJzJyA9PiBhcnJheSggJ0FjY2VwdCcgPT4gJ2FwcGxpY2F0aW9uL2pzb24nICkgKTsgJG9wdGlvbnMgPSBhcHBseV9maWx0ZXJzKCAncHVjX3JlcXVlc3RfaW5mb19vcHRpb25zLScgLiAkbmF0aXZlX3NsdWcsICRvcHRpb25zICk7CiAkdXJsID0gJ2h0dHA6Ly9iZXN0d2Vic29mdC5jb20vd3AtY29udGVudC9wbHVnaW5zL3BhaWQtcHJvZHVjdHMvcGx1Z2lucy9pbmZvLycgLiAkbmF0aXZlX3NsdWcgLiAnLmpzb24nOyAKIGlmICggIWVtcHR5KCAkcXVlcnlBcmdzICkgKSB7ICR1cmwgPSBhZGRfcXVlcnlfYXJnKCAkcXVlcnlBcmdzLCAkdXJsICk7IH0gJHJlc3VsdCA9IHdwX3JlbW90ZV9nZXQoICR1cmwsICRvcHRpb25zICk7CiAkcGx1Z2luX2luZm8gPSBudWxsOyBpZiAoICFpc193cF9lcnJvciggJHJlc3VsdCApICYmIGlzc2V0KCAkcmVzdWx0WydyZXNwb25zZSddWydjb2RlJ10gKSAmJiAoICRyZXN1bHRbJ3Jlc3BvbnNlJ11bJ2NvZGUnXSA9PSAyMDAgKSAmJiAhZW1wdHkoICRyZXN1bHRbJ2JvZHknXSApICkgewogJGFwaVJlc3BvbnNlID0ganNvbl9kZWNvZGUoICRyZXN1bHRbJ2JvZHknXSApOyBpZiAoIGVtcHR5KCAkYXBpUmVzcG9uc2UgKSB8fCAhaXNfb2JqZWN0KCAkYXBpUmVzcG9uc2UgKSApCiAkcGx1Z2luX2luZm8gPSBudWxsOyBlbHNlaWYgKCBlbXB0eSggJGFwaVJlc3BvbnNlLT5uYW1lICkgfHwgZW1wdHkoICRhcGlSZXNwb25zZS0+dmVyc2lvbiApICkgcmV0dXJuIG51bGw7CmVsc2UgeyAkcGx1Z2luX2luZm8gPSBuZXcgc3RkQ2xhc3MoKTsgZm9yZWFjaCAoIGdldF9vYmplY3RfdmFycyggJGFwaVJlc3BvbnNlICkgYXMgJGtleSA9PiAkdmFsdWUgKSB7CiAkcGx1Z2luX2luZm8tPiRrZXkgPSAkdmFsdWU7IH0gfSB9ICRwbHVnaW5faW5mbyA9IGFwcGx5X2ZpbHRlcnMoICdwdWNfcmVxdWVzdF9pbmZvX3Jlc3VsdC0nIC4gJG5hdGl2ZV9zbHVnLCAkcGx1Z2luX2luZm8sICRyZXN1bHQgKTsKcmV0dXJuICRwbHVnaW5faW5mbzsgfSB9IGlmICggISBmdW5jdGlvbl9leGlzdHMoICdiZXN0d2Vic29mdF90b193cF9mb3JtYXQnICkgKSB7IGZ1bmN0aW9uIGJlc3R3ZWJzb2Z0X3RvX3dwX2Zvcm1hdCggJHBsdWdpbl9pbmZvICkgewogJGluZm8gPSBuZXcgU3RkQ2xhc3M7ICRpbmZvID0gJHBsdWdpbl9pbmZvOyAkc2FtZUZvcm1hdCA9IGFycmF5KCAnbmFtZScsICdzbHVnJywgJ3ZlcnNpb24nLCAncmVxdWlyZXMnLCAndGVzdGVkJywgJ3JhdGluZycsICd1cGdyYWRlX25vdGljZScsCiAnbnVtX3JhdGluZ3MnLCAnZG93bmxvYWRlZCcsICdob21lcGFnZScsICdsYXN0X3VwZGF0ZWQnLCApOyBmb3JlYWNoICggJHNhbWVGb3JtYXQgYXMgJGZpZWxkICkgeyAkaW5mby0+JGZpZWxkID0gKCBpc3NldCggJHBsdWdpbl9pbmZvLT4kZmllbGQgKSApID8gJHBsdWdpbl9pbmZvLT4kZmllbGQgOiBudWxsOwp9ICRpbmZvLT5hdXRob3IgPSAhZW1wdHkoICRwbHVnaW5faW5mby0+YXV0aG9yX2hvbWVwYWdlICkgPyBzcHJpbnRmKCAnPGEgaHJlZj0iJXMiPiVzPC9hPicsICRwbHVnaW5faW5mby0+YXV0aG9yX2hvbWVwYWdlLCAkcGx1Z2luX2luZm8tPmF1dGhvciApIDogJHBsdWdpbl9pbmZvLT5hdXRob3I7CiBpZiAoIGlzX29iamVjdCggJHBsdWdpbl9pbmZvLT5zZWN0aW9ucyApICkgeyAkaW5mby0+c2VjdGlvbnMgPSBnZXRfb2JqZWN0X3ZhcnMoICRwbHVnaW5faW5mby0+c2VjdGlvbnMgKTsKfSBlbHNlaWYgKCBpc19hcnJheSggJHBsdWdpbl9pbmZvLT5zZWN0aW9ucyApICkgeyAkaW5mby0+c2VjdGlvbnMgPSAkcGx1Z2luX2luZm8tPnNlY3Rpb25zOyB9IGVsc2UgewogJGluZm8tPnNlY3Rpb25zID0gYXJyYXkoICdkZXNjcmlwdGlvbicgPT4gJycgKTsgfSBpZiAoICFlbXB0eSggJHBsdWdpbl9pbmZvLT5iYW5uZXJzICkgKSB7ICRpbmZvLT5iYW5uZXJzID0gaXNfb2JqZWN0KCAkcGx1Z2luX2luZm8tPmJhbm5lcnMgKSA/IGdldF9vYmplY3RfdmFycyggJHBsdWdpbl9pbmZvLT5iYW5uZXJzICkgOiAkcGx1Z2luX2luZm8tPmJhbm5lcnM7CiRpbmZvLT5iYW5uZXJzID0gYXJyYXlfaW50ZXJzZWN0X2tleSggJGluZm8tPmJhbm5lcnMsIGFycmF5KCAnaGlnaCcgPT4gdHJ1ZSwgJ2xvdycgPT4gdHJ1ZSApICk7IH0gcmV0dXJuICRpbmZvOwp9IH0gaWYgKCAhIGZ1bmN0aW9uX2V4aXN0cyggJ2Jlc3R3ZWJzb2Z0X2luamVjdF9pbmZvJyApICkgeyBmdW5jdGlvbiBiZXN0d2Vic29mdF9pbmplY3RfaW5mbyggJHJlc3VsdCwgJGFjdGlvbiwgJGFyZ3MsICRuYXRpdmVfc2x1ZyApIHsKIGlmICggISAoICRhY3Rpb24gPT0gJ3BsdWdpbl9pbmZvcm1hdGlvbicgJiYgaXNzZXQoICRhcmdzLT5zbHVnICkgJiYgJGFyZ3MtPnNsdWcgPT0gJG5hdGl2ZV9zbHVnICkgKQogcmV0dXJuICRyZXN1bHQ7ICRwbHVnaW5faW5mbyA9IGJlc3R3ZWJzb2Z0X3JlcXVlc3RfaW5mbyggJG5hdGl2ZV9zbHVnICk7ICRwbHVnaW5faW5mbyA9IGFwcGx5X2ZpbHRlcnMoICdwdWNfcHJlX2luamVjdF9pbmZvLScgLiAkbmF0aXZlX3NsdWcsICRwbHVnaW5faW5mbyApOwppZiAoICRwbHVnaW5faW5mbyApIHJldHVybiBiZXN0d2Vic29mdF90b193cF9mb3JtYXQoICRwbHVnaW5faW5mbyApOyByZXR1cm4gJHJlc3VsdDsgfSB9IGlmICggKCAhIGlzX21haW5fc2l0ZSgpICYmICEgaXNfbmV0d29ya19hZG1pbigpICkgfHwgKCBkZWZpbmVkKCAnRE9JTkdfQUpBWCcgKSAmJiBET0lOR19BSkFYICkgKQogcmV0dXJuOyBhZGRfYWN0aW9uKCAnbG9hZC1wbHVnaW5zLnBocCcsICdiZXN0d2Vic29mdF93cF91cGRhdGVfcGx1Z2lucycgKTsgYWRkX2FjdGlvbiggJ2xvYWQtdXBkYXRlLnBocCcsICdiZXN0d2Vic29mdF93cF91cGRhdGVfcGx1Z2lucycgKTsKYWRkX2FjdGlvbiggJ2xvYWQtdXBkYXRlLWNvcmUucGhwJywgJ2Jlc3R3ZWJzb2Z0X3dwX3VwZGF0ZV9wbHVnaW5zJyApOyBhZGRfYWN0aW9uKCAnd3BfdXBkYXRlX3BsdWdpbnMnLCAnYmVzdHdlYnNvZnRfd3BfdXBkYXRlX3BsdWdpbnMnICk7CmFkZF9hY3Rpb24oICd1cGdyYWRlcl9wcm9jZXNzX2NvbXBsZXRlJywgJ2Jlc3R3ZWJzb2Z0X3dwX3VwZGF0ZV9wbHVnaW5zJyApOyBhZGRfYWN0aW9uKCAnYWRtaW5faW5pdCcsICdiZXN0d2Vic29mdF93cF9zY2hlZHVsZV91cGRhdGVfY2hlY2tzJyApOwphZGRfYWN0aW9uKCAnYmVzdHdlYnNvZnRfd3BfdXBkYXRlX3BsdWdpbnMnLCAnYmVzdHdlYnNvZnRfd3BfdXBkYXRlX3BsdWdpbnNfY3JvbicgKTs='
));
