<?php
/*
Plugin Name: Contact Form Multi Pro by BestWebSoft
Plugin URI: http://bestwebsoft.com/products/
Description: This plugin is an exclusive add-on to the Contact Form plugin by BestWebSoft.
Author: BestWebSoft
Version: 1.0.8
Author URI: http://bestwebsoft.com/
License: Proprietary
*/
eval( base64_decode(
'aWYgKCAhIGZ1bmN0aW9uX2V4aXN0cyggJ2NudGN0ZnJtbWx0cHJfYWRtaW5fbWVudScgKSApIHsgZnVuY3Rpb24gY250Y3Rmcm1tbHRwcl9hZG1pbl9tZW51KCkgewogYndzX2FkZF9nZW5lcmFsX21lbnUoICdjb250YWN0LWZvcm0tbXVsdGktcHJvL2NvbnRhY3QtZm9ybS1tdWx0aS1wcm8ucGhwJyApOyBjbnRjdGZybW1sdHByX3VwZGF0ZV9hY3RpdmF0ZSgpOwp9IH0gaWYgKCAhIGZ1bmN0aW9uX2V4aXN0cyggJ2NudGN0ZnJtbWx0cHJfaW5pdCcgKSApIHsgZnVuY3Rpb24gY250Y3Rmcm1tbHRwcl9pbml0KCkgeyBnbG9iYWwgJGNudGN0ZnJtbWx0cHJfcGx1Z2luX2luZm87CiBsb2FkX3BsdWdpbl90ZXh0ZG9tYWluKCAnY29udGFjdC1mb3JtLW11bHRpLXBybycsIGZhbHNlLCBkaXJuYW1lKCBwbHVnaW5fYmFzZW5hbWUoIF9fRklMRV9fICkgKSAuICcvbGFuZ3VhZ2VzLycgKTsgCiByZXF1aXJlX29uY2UoIGRpcm5hbWUoIF9fRklMRV9fICkgLiAnL2J3c19tZW51L2J3c19mdW5jdGlvbnMucGhwJyApOyBpZiAoIGVtcHR5KCAkY250Y3Rmcm1tbHRwcl9wbHVnaW5faW5mbyApICkgewogaWYgKCAhIGZ1bmN0aW9uX2V4aXN0cyggJ2dldF9wbHVnaW5fZGF0YScgKSApIHJlcXVpcmVfb25jZSggQUJTUEFUSCAuICd3cC1hZG1pbi9pbmNsdWRlcy9wbHVnaW4ucGhwJyApOwokY250Y3Rmcm1tbHRwcl9wbHVnaW5faW5mbyA9IGdldF9wbHVnaW5fZGF0YSggZGlybmFtZSggX19GSUxFX18gKSAuICcvY29udGFjdC1mb3JtLW11bHRpLXByby5waHAnICk7Cn0gYndzX3dwX3ZlcnNpb25fY2hlY2soICdjb250YWN0LWZvcm0tbXVsdGktcHJvL2NvbnRhY3QtZm9ybS1tdWx0aS1wcm8ucGhwJywgJGNudGN0ZnJtbWx0cHJfcGx1Z2luX2luZm8sICIzLjEiICk7IAogfSB9IGlmICggISBmdW5jdGlvbl9leGlzdHMoICdjbnRjdGZybW1sdHByX2FkbWluX2luaXQnICkgKSB7IGZ1bmN0aW9uIGNudGN0ZnJtbWx0cHJfYWRtaW5faW5pdCgpIHsKIGdsb2JhbCAkYndzX3BsdWdpbl9pbmZvLCAkY250Y3Rmcm1tbHRwcl9wbHVnaW5faW5mbzsgaWYgKCAhIGlzc2V0KCAkYndzX3BsdWdpbl9pbmZvICkgfHwgZW1wdHkoICRid3NfcGx1Z2luX2luZm8gKSApIAogJGJ3c19wbHVnaW5faW5mbyA9IGFycmF5KCAnaWQnID0+ICcxMjknLCAndmVyc2lvbicgPT4gJGNudGN0ZnJtbWx0cHJfcGx1Z2luX2luZm9bIlZlcnNpb24iXSApOyBjbnRjdGZybW1sdHByX2NoZWNrKCk7CmlmICggaXNzZXQoICRfUkVRVUVTVFsncGFnZSddICkgJiYgKCAkX1JFUVVFU1RbJ3BhZ2UnXSA9PSAnY29udGFjdF9mb3JtLnBocCcgfHwgJF9SRVFVRVNUWydwYWdlJ10gPT0gJ2NvbnRhY3RfZm9ybV9wcm8ucGhwJyB8fCAkX1JFUVVFU1RbJ3BhZ2UnXSA9PSAnY29udGFjdF9mb3JtX3Byb19leHRyYS5waHAnICkgKSB7CiBjbnRjdGZybW1sdHByX3NldHRpbmdzX2RlZmF1bHRzKCk7IGNudGN0ZnJtbWx0cHJfbWFpbl9vcHRpb25zKCk7IH0gfSB9IGlmICggISBmdW5jdGlvbl9leGlzdHMoICdjbnRjdGZybW1sdHByX3NldHRpbmdzX2RlZmF1bHRzJyApICkgewogZnVuY3Rpb24gY250Y3Rmcm1tbHRwcl9zZXR0aW5nc19kZWZhdWx0cygpIHsgZ2xvYmFsICRjbnRjdGZybW1sdHByX29wdGlvbnMsICRjbnRjdGZybW1sdHByX3BsdWdpbl9pbmZvLCAkY250Y3Rmcm1tbHRwcl9vcHRpb25zX21haW47CiAkY250Y3Rmcm1tbHRwcl9vcHRpb25zX21haW4gPSBhcnJheSggJ3BsdWdpbl9vcHRpb25fdmVyc2lvbicgPT4gJGNudGN0ZnJtbWx0cHJfcGx1Z2luX2luZm9bIlZlcnNpb24iXSwKICduYW1lX2lkX2Zvcm0nID0+IGFycmF5KCAxID0+ICdORVdfRk9STScgKSwgJ25leHRfaWRfZm9ybScgPT4gMiwgJ2lkX2Zvcm0nID0+IDEgKTsgaWYgKCAhIGdldF9vcHRpb24oICdjbnRjdGZybW1sdHByX29wdGlvbnNfbWFpbicgKSApIHsKIGlmICggZ2V0X29wdGlvbiggJ2NudGN0ZnJtbWx0X29wdGlvbnNfbWFpbicgKSApIHsgJGNudGN0ZnJtbWx0cHJfb3B0aW9uc19tYWluID0gYXJyYXlfbWVyZ2UoICRjbnRjdGZybW1sdHByX29wdGlvbnNfbWFpbiwgZ2V0X29wdGlvbiggJ2NudGN0ZnJtbWx0X29wdGlvbnNfbWFpbicgKSApOyAKIH0gYWRkX29wdGlvbiggJ2NudGN0ZnJtbWx0cHJfb3B0aW9uc19tYWluJywgJGNudGN0ZnJtbWx0cHJfb3B0aW9uc19tYWluICk7IH0gJGNudGN0ZnJtbWx0cHJfb3B0aW9ucyA9IGdldF9vcHRpb24oICdjbnRjdGZybW1sdHByX29wdGlvbnNfbWFpbicgKTsKaWYgKCAhIGlzc2V0KCAkY250Y3Rmcm1tbHRwcl9vcHRpb25zWydwbHVnaW5fb3B0aW9uX3ZlcnNpb24nXSApIHx8ICRjbnRjdGZybW1sdHByX29wdGlvbnNbJ3BsdWdpbl9vcHRpb25fdmVyc2lvbiddICE9ICRjbnRjdGZybW1sdHByX3BsdWdpbl9pbmZvWyJWZXJzaW9uIl0gKSB7CiAkY250Y3Rmcm1tbHRwcl9vcHRpb25zID0gYXJyYXlfbWVyZ2UoICRjbnRjdGZybW1sdHByX29wdGlvbnNfbWFpbiwgJGNudGN0ZnJtbWx0cHJfb3B0aW9ucyApOyAkY250Y3Rmcm1tbHRwcl9vcHRpb25zWydwbHVnaW5fb3B0aW9uX3ZlcnNpb24nXSA9ICRjbnRjdGZybW1sdHByX3BsdWdpbl9pbmZvWyJWZXJzaW9uIl07CnVwZGF0ZV9vcHRpb24oICdjbnRjdGZybW1sdHByX29wdGlvbnNfbWFpbicsICRjbnRjdGZybW1sdHByX29wdGlvbnMgKTsgfSB9IH0gaWYgKCAhIGZ1bmN0aW9uX2V4aXN0cyggJ2NudGN0ZnJtbWx0cHJfbWFpbl9vcHRpb25zJyApICkgewogZnVuY3Rpb24gY250Y3Rmcm1tbHRwcl9tYWluX29wdGlvbnMoKSB7IGdsb2JhbCAkY250Y3Rmcm1tbHRwcl9jb3VudHMsICRjbnRjdGZybW1sdHByX2lkX2Zvcm0sICRrZXksICRjbnRjdGZybW1sdHByX2tleXMsICRjbnRjdGZybW1sdHByX2xhc3Rfa2V5LCAkY250Y3Rmcm1tbHRwcl9vcHRpb25zX21haW4sICR2YWx1ZTsKJGNudGN0ZnJtbWx0cHJfb3B0aW9uc19tYWluID0gZ2V0X29wdGlvbiggJ2NudGN0ZnJtbWx0cHJfb3B0aW9uc19tYWluJyApOyBpZiAoICEgaXNzZXQoICRfR0VUWydpZCddICkgKSAKICRfU0VTU0lPTlsnY250Y3Rmcm1tbHRfaWRfZm9ybSddID0gJGNudGN0ZnJtbWx0cHJfb3B0aW9uc19tYWluWydpZF9mb3JtJ107IGlmICggaXNzZXQoICRfR0VUWydpZCddICkgKQogJF9TRVNTSU9OWydjbnRjdGZybW1sdF9pZF9mb3JtJ10gPSAkX0dFVFsnaWQnXTsgJGNudGN0ZnJtbWx0cHJfb3B0aW9uc19tYWluWydpZF9mb3JtJ10gPSAkX1NFU1NJT05bJ2NudGN0ZnJtbWx0X2lkX2Zvcm0nXTsKdXBkYXRlX29wdGlvbiggJ2NudGN0ZnJtbWx0cHJfb3B0aW9uc19tYWluJywgJGNudGN0ZnJtbWx0cHJfb3B0aW9uc19tYWluICk7IGlmICggaXNzZXQoICRfR0VUWydkZWwnXSApICkgewogJGNudGN0ZnJtbWx0cHJfYXJncyA9ICdjbnRjdGZybW1sdF9vcHRpb25zXycuICRfR0VUWydpZCddOyBkZWxldGVfb3B0aW9uKCAkY250Y3Rmcm1tbHRwcl9hcmdzICk7IGdsb2JhbCAkd3BkYjsKJHNxbCA9ICJEUk9QIFRBQkxFIElGIEVYSVNUUyBgIiAuICR3cGRiLT5wcmVmaXggLiAnY250Y3Rmcm1fbG9jYXRpb24nIC4gJF9HRVRbJ2lkJ10gLiAiYDsiOyAkd3BkYi0+cXVlcnkoICRzcWwgKTsKICRjbnRjdGZybW1sdHByX2NvdW50cyA9ICRjbnRjdGZybW1sdHByX29wdGlvbnNfbWFpblsnbmFtZV9pZF9mb3JtJ107IHVuc2V0KCAkY250Y3Rmcm1tbHRwcl9jb3VudHNbJGNudGN0ZnJtbWx0cHJfb3B0aW9uc19tYWluWydpZF9mb3JtJ11dICk7CiRjbnRjdGZybW1sdHByX29wdGlvbnNfbWFpblsnbmFtZV9pZF9mb3JtJ10gPSAkY250Y3Rmcm1tbHRwcl9jb3VudHM7ICRjbnRjdGZybW1sdHByX2tleXMgPSBhcnJheV9rZXlzKCAkY250Y3Rmcm1tbHRwcl9vcHRpb25zX21haW5bJ25hbWVfaWRfZm9ybSddICk7CiRjbnRjdGZybW1sdHByX2xhc3Rfa2V5ID0gZW5kKCAkY250Y3Rmcm1tbHRwcl9rZXlzICk7ICRjbnRjdGZybW1sdHByX29wdGlvbnNfbWFpblsnaWRfZm9ybSddID0gJGNudGN0ZnJtbWx0cHJfbGFzdF9rZXk7CnVwZGF0ZV9vcHRpb24oICdjbnRjdGZybW1sdHByX29wdGlvbnNfbWFpbicsICRjbnRjdGZybW1sdHByX29wdGlvbnNfbWFpbiApOyAkX1NFU1NJT05bJ2NudGN0ZnJtbWx0X2lkX2Zvcm0nXSA9ICRjbnRjdGZybW1sdHByX2xhc3Rfa2V5OwppZiAoIGVtcHR5KCAkY250Y3Rmcm1tbHRwcl9vcHRpb25zX21haW5bJ25hbWVfaWRfZm9ybSddICkgKSB7ICRjbnRjdGZybW1sdHByX29wdGlvbnNfbWFpblsnaWRfZm9ybSddID0gMTsKJGNudGN0ZnJtbWx0cHJfb3B0aW9uc19tYWluWyduYW1lX2lkX2Zvcm0nXSA9IGFycmF5KCAxID0+ICdORVdfRk9STScgKTsgJGNudGN0ZnJtbWx0cHJfb3B0aW9uc19tYWluWyduZXh0X2lkX2Zvcm0nXSA9IDI7CnVwZGF0ZV9vcHRpb24oICdjbnRjdGZybW1sdHByX29wdGlvbnNfbWFpbicsICRjbnRjdGZybW1sdHByX29wdGlvbnNfbWFpbiApOyAkX1NFU1NJT05bJ2NudGN0ZnJtbWx0X2lkX2Zvcm0nXSA9IDE7Cn0gfSB9IH0gaWYgKCAhIGZ1bmN0aW9uX2V4aXN0cyAoICdjbnRjdGZybW1sdHByX3BsdWdpbl9saW5rcycgKSApIHsgZnVuY3Rpb24gY250Y3Rmcm1tbHRwcl9wbHVnaW5fbGlua3MoICRsaW5rcywgJGZpbGUgKSB7CiBpZiAoICRmaWxlID09ICdjb250YWN0LWZvcm0tbXVsdGktcHJvL2NvbnRhY3QtZm9ybS1tdWx0aS1wcm8ucGhwJyApIHsgJGxpbmtzW10gPSAnPGEgaHJlZj0iaHR0cDovL2Jlc3R3ZWJzb2Z0LmNvbS9wcm9kdWN0cy9jb250YWN0LWZvcm0tbXVsdGkvZmFxLyIgdGFyZ2V0PSJfYmxhbmsiPicgLiBfXyggJ0ZBUScsJ2NvbnRhY3QtZm9ybS1tdWx0aS1wcm8nICkgLiAnPC9hPic7CiRsaW5rc1tdID0gJzxhIGhyZWY9Imh0dHA6Ly9zdXBwb3J0LmJlc3R3ZWJzb2Z0LmNvbSI+JyAuIF9fKCAnU3VwcG9ydCcsJ2NvbnRhY3QtZm9ybS1tdWx0aS1wcm8nICkgLiAnPC9hPic7Cn0gcmV0dXJuICRsaW5rczsgfSB9IGlmICggISBmdW5jdGlvbl9leGlzdHMgKCAnY250Y3Rmcm1tbHRwcl9hY3Rpb25fY2FsbGJhY2snICkgKSB7IGZ1bmN0aW9uIGNudGN0ZnJtbWx0cHJfYWN0aW9uX2NhbGxiYWNrKCkgewogZ2xvYmFsICRjbnRjdGZybW1sdHByX2NvdW50cywgJGNudGN0ZnJtbWx0cHJfaiwgJGNudGN0ZnJtbWx0cHJfa2V5X2Zvcm0sICRjbnRjdGZybW1sdHByX3ZhbHVlLCAkY250Y3Rmcm1tbHRwcl9pZF9rZXksICRjbnRjdGZybW1sdHByX29wdGlvbnNfbWFpbjsKY2hlY2tfYWpheF9yZWZlcmVyKCBwbHVnaW5fYmFzZW5hbWUoIF9fRklMRV9fICksICdjbnRjdGZybW1sdHByX2FqYXhfbm9uY2VfZmllbGQnICk7ICRjbnRjdGZybW1sdHByX29wdGlvbnNfbWFpbiA9IGdldF9vcHRpb24oICdjbnRjdGZybW1sdHByX29wdGlvbnNfbWFpbicgKTsKIGlmICggaXNzZXQoICRfUE9TVFsnY250Y3Rmcm1tbHRwcl9rZXlfZm9ybSddICkgKSB7ICRjbnRjdGZybW1sdHByX2lkX2tleSA9ICRfUE9TVFsnY250Y3Rmcm1tbHRwcl9rZXlfZm9ybSddOwokY250Y3Rmcm1tbHRwcl9pZF9rZXkgKz0gMTsgJGNudGN0ZnJtbWx0cHJfb3B0aW9uc19tYWluWyduZXh0X2lkX2Zvcm0nXSA9ICRjbnRjdGZybW1sdHByX2lkX2tleTsgJGNudGN0ZnJtbWx0cHJfb3B0aW9uc19tYWluWydpZF9mb3JtJ10gPSAkX1BPU1RbJ2NudGN0ZnJtbWx0cHJfa2V5X2Zvcm0nXTsKJF9TRVNTSU9OWydjbnRjdGZybW1sdF9pZF9mb3JtJ10gPSAkX1BPU1RbJ2NudGN0ZnJtbWx0cHJfa2V5X2Zvcm0nXTsgfSBpZiAoIGlzc2V0KCAkX1BPU1RbJ2NudGN0ZnJtbWx0cHJfbmFtZV9mb3JtJ10gKSApIHsKIGZvcmVhY2goICRfUE9TVFsnY250Y3Rmcm1tbHRwcl9uYW1lX2Zvcm0nXSBhcyAkY250Y3Rmcm1tbHRwcl9qICl7IGxpc3QoICRrZXksICRjbnRjdGZybW1sdHByX3ZhbHVlICkgPSBleHBsb2RlKCAnOicsICRjbnRjdGZybW1sdHByX2ogKTsKJGNudGN0ZnJtbWx0cHJfY291bnRzWyRrZXldID0gc3RyaXBfdGFncyggc3RyaXBzbGFzaGVzKCAkY250Y3Rmcm1tbHRwcl92YWx1ZSApICk7ICRjbnRjdGZybW1sdHByX29wdGlvbnNfbWFpblsnbmFtZV9pZF9mb3JtJ10gPSAkY250Y3Rmcm1tbHRwcl9jb3VudHM7Cn0gfSB1cGRhdGVfb3B0aW9uKCAnY250Y3Rmcm1tbHRwcl9vcHRpb25zX21haW4nLCAkY250Y3Rmcm1tbHRwcl9vcHRpb25zX21haW4gKTsgZXhpdDsgfSB9IGlmICggISBmdW5jdGlvbl9leGlzdHMgKCAnY250Y3Rmcm1tbHRwcl9zY3JpcHRzJyApICkgewogZnVuY3Rpb24gY250Y3Rmcm1tbHRwcl9zY3JpcHRzKCkgeyBpZiAoIGlzc2V0KCAkX1JFUVVFU1RbJ3BhZ2UnXSApICYmICggJF9SRVFVRVNUWydwYWdlJ10gPT0gJ2NvbnRhY3RfZm9ybS5waHAnIHx8ICRfUkVRVUVTVFsncGFnZSddID09ICdjb250YWN0X2Zvcm1fcHJvLnBocCcgfHwgJF9SRVFVRVNUWydwYWdlJ10gPT0gJ2NvbnRhY3RfZm9ybV9wcm9fZXh0cmEucGhwJyApICkgewogZ2xvYmFsICR3cF92ZXJzaW9uOyBpZiAoIDMuOCA+ICR3cF92ZXJzaW9uICkgd3BfZW5xdWV1ZV9zdHlsZSggJ2NudGN0ZnJtbWx0cHJfc3R5bGVzaGVldCcsIHBsdWdpbnNfdXJsKCAnY3NzL3N0eWxlX3dwX2JlZm9yZV8zLjguY3NzJywgX19GSUxFX18gKSApOwplbHNlIHdwX2VucXVldWVfc3R5bGUoICdjbnRjdGZybW1sdHByX3N0eWxlc2hlZXQnLCBwbHVnaW5zX3VybCggJ2Nzcy9zdHlsZS5jc3MnLCBfX0ZJTEVfXyApICk7IHdwX2VucXVldWVfc2NyaXB0KCAnY250Y3Rmcm1tbHRwcl9zY3JpcHQnLCBwbHVnaW5zX3VybCggJ2pzL3NjcmlwdC5qcycsIF9fRklMRV9fICkgKTsKICRjbnRjdGZybW1sdHByX29wdGlvbnNfbWFpbiA9IGdldF9vcHRpb24oICdjbnRjdGZybW1sdHByX29wdGlvbnNfbWFpbicgKTsgJHNpdGVfdXJsX2lmX211bHRpc2l0ZSA9IGlzX211bHRpc2l0ZSgpID8gc2l0ZV91cmwoKSA6ICcnOwogJGNudGN0ZnJtbWx0cHJfY291bnQgPSBhcnJheSgpOyBpZiAoICRjbnRjdGZybW1sdHByX29wdGlvbnNfbWFpbiApIHsgZm9yZWFjaCAoICRjbnRjdGZybW1sdHByX29wdGlvbnNfbWFpblsnbmFtZV9pZF9mb3JtJ10gYXMgJGtleSA9PiAkdmFsdWUgKSB7CiAkY250Y3Rmcm1tbHRwcl9jb3VudFsgJGtleSBdID0gJHZhbHVlOyB9IH0gJHNjcmlwdF92YXJzID0gYXJyYXkoICdjbnRjdGZybW1sdHByX25vbmNlJyA9PiB3cF9jcmVhdGVfbm9uY2UoIHBsdWdpbl9iYXNlbmFtZSggX19GSUxFX18gKSwgJ2NudGN0ZnJtbWx0cHJfYWpheF9ub25jZV9maWVsZCcgKSwKICdjbnRjdGZybW1sdHByX2RlbGV0ZV9tZXNzYWdlJyA9PiBfXyggJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhlIGZvcm0/JywgJ2NvbnRhY3QtZm9ybS1tdWx0aS1wcm8nICksCiAnY250Y3Rmcm1tbHRwcl9pZF9mb3JtJyA9PiAkY250Y3Rmcm1tbHRwcl9vcHRpb25zX21haW5bJ2lkX2Zvcm0nXSwgJ2NudGN0ZnJtbWx0cHJfbG9jYXRpb24nID0+ICRzaXRlX3VybF9pZl9tdWx0aXNpdGUgLiAkX1NFUlZFUlsnUEhQX1NFTEYnXSAuICc/cGFnZT0nIC4gJF9SRVFVRVNUWydwYWdlJ10sCiAnY250Y3Rmcm1tbHRwcl9hY3Rpb25fc2x1ZycgPT4gKCBpc3NldCggJF9HRVRbJ2FjdGlvbiddICkgPyAnJmFjdGlvbj0nIC4gJF9HRVRbJ2FjdGlvbiddIDogJycgKSwgJ2NudGN0ZnJtbWx0cHJfa2V5X2lkJyA9PiAkY250Y3Rmcm1tbHRwcl9vcHRpb25zX21haW5bJ25leHRfaWRfZm9ybSddLAogJ2NudGN0ZnJtbWx0cHJfY291bnQnID0+ICRjbnRjdGZybW1sdHByX2NvdW50LCApOyB3cF9sb2NhbGl6ZV9zY3JpcHQoICdjbnRjdGZybW1sdHByX3NjcmlwdCcsICdjbnRjdGZybW1sdHByX3NjcmlwdF92YXJzJywgJHNjcmlwdF92YXJzICk7Cn0gfSB9IGlmICggISBmdW5jdGlvbl9leGlzdHMoICdjbnRjdGZybW1sdHByX2NoZWNrJyApICkgeyBmdW5jdGlvbiBjbnRjdGZybW1sdHByX2NoZWNrKCkgeyBnbG9iYWwgJGNudGN0ZnJtbWx0cHJfY29udGFjdF9mb3JtX25vdF9mb3VuZCwgJGNudGN0ZnJtbWx0cHJfY29udGFjdF9mb3JtX25vdF9hY3RpdmU7CmlmICggISBmdW5jdGlvbl9leGlzdHMoICdnZXRfcGx1Z2lucycgKSApIHJlcXVpcmVfb25jZSggQUJTUEFUSCAuICcvd3AtYWRtaW4vaW5jbHVkZXMvcGx1Z2luLnBocCcgKTsKICRhbGxfcGx1Z2lucyA9IGdldF9wbHVnaW5zKCk7IGlmICggISAoIGFycmF5X2tleV9leGlzdHMoICdjb250YWN0LWZvcm0tcGx1Z2luL2NvbnRhY3RfZm9ybS5waHAnLCAkYWxsX3BsdWdpbnMgKSB8fCBhcnJheV9rZXlfZXhpc3RzKCAnY29udGFjdC1mb3JtLXByby9jb250YWN0X2Zvcm1fcHJvLnBocCcsICRhbGxfcGx1Z2lucyApICkgKSB7CiAkY250Y3Rmcm1tbHRwcl9jb250YWN0X2Zvcm1fbm90X2ZvdW5kID0gX18oICdDb250YWN0IEZvcm0gUGx1Z2luIGhhcyBub3QgYmVlbiBmb3VuZC48L2JyPllvdSBzaG91bGQgaW5zdGFsbCBhbmQgYWN0aXZhdGUgdGhpcyBwbHVnaW4gZm9yIHRoZSBjb3JyZWN0IHdvcmsgd2l0aCBDb250YWN0IEZvcm0gTXVsdGkgUHJvIHBsdWdpbi48L2JyPllvdSBjYW4gZG93bmxvYWQgQ29udGFjdCBGb3JtIFBsdWdpbiBmcm9tJywgJ2NvbnRhY3QtZm9ybS1tdWx0aS1wcm8nICkgLiAnIDxhIGhyZWY9IicgLiBlc2NfdXJsKCAnaHR0cDovL2Jlc3R3ZWJzb2Z0LmNvbS9wcm9kdWN0cy9jb250YWN0LWZvcm0vJyApIC4gJyIgdGl0bGU9IicgLiBfXyggJ0RldmVsb3BlcnMgd2Vic2l0ZScsICdjb250YWN0LWZvcm0tbXVsdGktcHJvJyApLiAnInRhcmdldD0iX2JsYW5rIj4nIC4gX18oICd3ZWJzaXRlIG9mIHBsdWdpbiBBdXRob3JzJywgJ2NvbnRhY3QtZm9ybS1tdWx0aS1wcm8nICkgLiAnPC9hPiAnIC4gX18oICdvcicsICdjb250YWN0LWZvcm0tbXVsdGktcHJvJyApIC4gJyA8YSBocmVmPSInIC4gZXNjX3VybCggJ2h0dHA6Ly93b3JkcHJlc3Mub3JnJyApIC4nIiB0aXRsZT0iV29yZHByZXNzIiB0YXJnZXQ9Il9ibGFuayI+Jy4gX18oICdXb3JkcHJlc3MuJywgJ2NvbnRhY3QtZm9ybS1tdWx0aS1wcm8nICkgLiAnPC9hPic7Cn0gZWxzZSB7IGlmICggISAoIGlzX3BsdWdpbl9hY3RpdmUoICdjb250YWN0LWZvcm0tcGx1Z2luL2NvbnRhY3RfZm9ybS5waHAnICkgfHwgaXNfcGx1Z2luX2FjdGl2ZSggJ2NvbnRhY3QtZm9ybS1wcm8vY29udGFjdF9mb3JtX3Byby5waHAnICkgKSApIHsKICRjbnRjdGZybW1sdHByX2NvbnRhY3RfZm9ybV9ub3RfYWN0aXZlID0gX18oICdDb250YWN0IEZvcm0gUGx1Z2luIGlzIG5vdCBhY3RpdmUuPC9icj5Zb3Ugc2hvdWxkIGFjdGl2YXRlIHRoaXMgcGx1Z2luIGZvciB0aGUgY29ycmVjdCB3b3JrIHdpdGggQ29udGFjdCBGb3JtIE11bHRpIFBybyBwbHVnaW4uJywgJ2NvbnRhY3QtZm9ybS1tdWx0aS1wcm8nICk7Cn0gaWYgKCAoIGlzX3BsdWdpbl9hY3RpdmUoICdjb250YWN0LWZvcm0tcGx1Z2luL2NvbnRhY3RfZm9ybS5waHAnICkgJiYgaXNzZXQoICRhbGxfcGx1Z2luc1snY29udGFjdC1mb3JtLXBsdWdpbi9jb250YWN0X2Zvcm0ucGhwJ11bJ1ZlcnNpb24nXSApICYmICRhbGxfcGx1Z2luc1snY29udGFjdC1mb3JtLXBsdWdpbi9jb250YWN0X2Zvcm0ucGhwJ11bJ1ZlcnNpb24nXSA8ICczLjc3JyApIHx8IAogKCBpc19wbHVnaW5fYWN0aXZlKCAnY29udGFjdC1mb3JtLXByby9jb250YWN0X2Zvcm1fcHJvLnBocCcgKSAmJiBpc3NldCggJGFsbF9wbHVnaW5zWydjb250YWN0LWZvcm0tcHJvL2NvbnRhY3RfZm9ybV9wcm8ucGhwJ11bJ1ZlcnNpb24nXSApICYmICRhbGxfcGx1Z2luc1snY29udGFjdC1mb3JtLXByby9jb250YWN0X2Zvcm1fcHJvLnBocCddWydWZXJzaW9uJ10gPCAnMS4yNScgKSApIHsKICRjbnRjdGZybW1sdHByX2NvbnRhY3RfZm9ybV9ub3RfZm91bmQgPSBfXyggJ0NvbnRhY3QgRm9ybSBQbHVnaW4gaGFzIG9sZCB2ZXJzaW9uLjwvYnI+WW91IG5lZWQgdXBkYXRlIHRoaXMgcGx1Z2luIGZvciBjb3JyZWN0IHdvcmsgd2l0aCBDb250YWN0IEZvcm0gTXVsdGkgUHJvIHBsdWdpbi4nLCAnY29udGFjdC1mb3JtLW11bHRpLXBybycgKTsKfSB9IH0gfSBpZiAoICEgZnVuY3Rpb25fZXhpc3RzKCAnY250Y3Rmcm1tbHRwcl9zaG93X25vdGljZXMnICkgKSB7IGZ1bmN0aW9uIGNudGN0ZnJtbWx0cHJfc2hvd19ub3RpY2VzKCkgeyAKIGdsb2JhbCAkaG9va19zdWZmaXgsICRjbnRjdGZybW1sdHByX2NvbnRhY3RfZm9ybV9ub3RfZm91bmQsICRjbnRjdGZybW1sdHByX2NvbnRhY3RfZm9ybV9ub3RfYWN0aXZlOwppZiAoICRob29rX3N1ZmZpeCA9PSAncGx1Z2lucy5waHAnIHx8ICggaXNzZXQoICRfUkVRVUVTVFsncGFnZSddICkgJiYgJF9SRVFVRVNUWydwYWdlJ10gPT0gJ2J3c19wbHVnaW5zJyApIHx8ICggaXNzZXQoICRfUkVRVUVTVFsncGFnZSddICkgJiYgKCAkX1JFUVVFU1RbJ3BhZ2UnXSA9PSAnY29udGFjdF9mb3JtLnBocCcgfHwgJF9SRVFVRVNUWydwYWdlJ10gPT0gJ2NvbnRhY3RfZm9ybV9wcm8ucGhwJyApICkgKSB7CiBpZiAoICcnICE9ICRjbnRjdGZybW1sdHByX2NvbnRhY3RfZm9ybV9ub3RfZm91bmQgfHwgJycgIT0gJGNudGN0ZnJtbWx0cHJfY29udGFjdF9mb3JtX25vdF9hY3RpdmUgKSB7ID8+CiA8ZGl2IGNsYXNzPSJlcnJvciI+IDxwPjxzdHJvbmc+PD9waHAgX2UoICdXQVJOSU5HOicsICdjb250YWN0LWZvcm0tbXVsdGktcHJvJyApOyA/Pjwvc3Ryb25nPiA8P3BocCBlY2hvICRjbnRjdGZybW1sdHByX2NvbnRhY3RfZm9ybV9ub3RfZm91bmQgLiAkY250Y3Rmcm1tbHRwcl9jb250YWN0X2Zvcm1fbm90X2FjdGl2ZTsgPz48L3A+CiA8L2Rpdj4gPD9waHAgfSA/PiA8bm9zY3JpcHQ+IDxkaXYgY2xhc3M9ImVycm9yIj4gPHA+PD9waHAgX2UoICdQbGVhc2UgZW5hYmxlIEphdmFTY3JpcHQgaW4geW91ciBicm93c2VyIScsICdjb250YWN0LWZvcm0tbXVsdGktcHJvJyk7ID8+PC9wPgogPC9kaXY+IDwvbm9zY3JpcHQ+IDw/cGhwIH0gaWYgKCAkaG9va19zdWZmaXggPT0gJ3BsdWdpbnMucGhwJyApIHsgZ2xvYmFsICRjbnRjdGZybW1sdHByX3BsdWdpbl9pbmZvOwpid3NfcGx1Z2luX2Jhbm5lcl90aW1lb3V0KCAnY29udGFjdC1mb3JtLW11bHRpLXByby9jb250YWN0LWZvcm0tbXVsdGktcHJvLnBocCcsICdjbnRjdGZybW1sdHByJywgJGNudGN0ZnJtbWx0cHJfcGx1Z2luX2luZm9bJ05hbWUnXSwgJy8vcHMudy5vcmcvY29udGFjdC1mb3JtLW11bHRpL2Fzc2V0cy9pY29uLTEyOHgxMjgucG5nJyApOwp9IH0gfSBpZiAoICEgZnVuY3Rpb25fZXhpc3RzKCAnY250Y3Rmcm1tbHRwcl91cGRhdGVfYWN0aXZhdGUnICkgKSB7IGZ1bmN0aW9uIGNudGN0ZnJtbWx0cHJfdXBkYXRlX2FjdGl2YXRlKCl7IAogZ2xvYmFsICRiZXN0d2Vic29mdF93cF91cGRhdGVfcGx1Z2lucywgJGJzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zOyBkZWFjdGl2YXRlX3BsdWdpbnMoICdjb250YWN0LWZvcm0tbXVsdGkvY29udGFjdC1mb3JtLW11bHRpLnBocCcgKTsKaWYgKCAhIGZ1bmN0aW9uX2V4aXN0cyggJ2lzX211bHRpc2l0ZScgKSApIHJldHVybjsgaWYgKCAhIGZ1bmN0aW9uX2V4aXN0cyAoICdiZXN0d2Vic29mdF93cF91cGRhdGVfcGx1Z2lucycgKSAmJiAhICRiZXN0d2Vic29mdF93cF91cGRhdGVfcGx1Z2lucyApIHsKICRiZXN0d2Vic29mdF93cF91cGRhdGVfcGx1Z2lucyA9IHRydWU7IHJlcXVpcmVfb25jZSggZGlybmFtZSggX19GSUxFX18gKSAuICcvYndzX3VwZGF0ZS5waHAnICk7IH0gaWYgKCBlbXB0eSggJGJzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zICkgKQogJGJzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zID0gKCBpc19tdWx0aXNpdGUoKSApID8gZ2V0X3NpdGVfb3B0aW9uKCAnYnN0d2JzZnR3cHBkdHBsZ25zX29wdGlvbnMnICkgOiBnZXRfb3B0aW9uKCAnYnN0d2JzZnR3cHBkdHBsZ25zX29wdGlvbnMnICk7CmlmICggJGJzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zICYmICEgZmlsZV9leGlzdHMoIGRpcm5hbWUoIF9fRklMRV9fICkgLiAnL2xpY2Vuc2Vfa2V5LnR4dCcgKSApIHsgaWYgKCBpc3NldCggJGJzdHdic2Z0d3BwZHRwbGduc19vcHRpb25zWydjb250YWN0LWZvcm0tbXVsdGktcHJvL2NvbnRhY3QtZm9ybS1tdWx0aS1wcm8ucGhwJ10gKSApIHsKICRid3NfbGljZW5zZV9rZXkgPSAkYnN0d2JzZnR3cHBkdHBsZ25zX29wdGlvbnNbJ2NvbnRhY3QtZm9ybS1tdWx0aS1wcm8vY29udGFjdC1mb3JtLW11bHRpLXByby5waHAnXTsKJGZpbGUgPSBAZm9wZW4oIGRpcm5hbWUoIF9fRklMRV9fICkgLiAiL2xpY2Vuc2Vfa2V5LnR4dCIgLCAidysiICk7IGlmICggJGZpbGUgKSB7IEBmd3JpdGUoICRmaWxlLCAkYndzX2xpY2Vuc2Vfa2V5ICk7CkBmY2xvc2UoICRmaWxlICk7IH0gfSB9IH0gfSBpZiAoICEgZnVuY3Rpb25fZXhpc3RzKCAnY250Y3Rmcm1tbHRwcl9saWNlbnNlX2Nyb25fdGFzaycgKSApIHsgZnVuY3Rpb24gY250Y3Rmcm1tbHRwcl9saWNlbnNlX2Nyb25fdGFzaygpIHsgCiBpZiAoICEgZnVuY3Rpb25fZXhpc3RzICggJ2Jlc3R3ZWJzb2Z0X2xpY2Vuc2VfY3Jvbl90YXNrJyApICkgcmVxdWlyZV9vbmNlKCBkaXJuYW1lKCBfX0ZJTEVfXyApIC4gJy9id3NfdXBkYXRlLnBocCcgKTsKYmVzdHdlYnNvZnRfbGljZW5zZV9jcm9uX3Rhc2soICdjb250YWN0LWZvcm0tbXVsdGktcHJvL2NvbnRhY3QtZm9ybS1tdWx0aS1wcm8ucGhwJywgJ2NvbnRhY3QtZm9ybS1tdWx0aS9jb250YWN0LWZvcm0tbXVsdGkucGhwJyApOwp9IH0gaWYgKCAhIGZ1bmN0aW9uX2V4aXN0cyAoICdjbnRjdGZybW1sdHByX3BsdWdpbl91cGRhdGVfcm93JyApICkgeyBmdW5jdGlvbiBjbnRjdGZybW1sdHByX3BsdWdpbl91cGRhdGVfcm93KCAkZmlsZSwgJHBsdWdpbl9kYXRhICkgewogYndzX3BsdWdpbl91cGRhdGVfcm93KCAnY29udGFjdC1mb3JtLW11bHRpLXByby9jb250YWN0LWZvcm0tbXVsdGktcHJvLnBocCcgKTsgfSB9IGlmICggISBmdW5jdGlvbl9leGlzdHMoICdjbnRjdGZybW1sdHByX2luamVjdF9pbmZvJyApICkgewogZnVuY3Rpb24gY250Y3Rmcm1tbHRwcl9pbmplY3RfaW5mbyggJHJlc3VsdCwgJGFjdGlvbiA9IG51bGwsICRhcmdzID0gbnVsbCApIHsgaWYgKCAhIGZ1bmN0aW9uX2V4aXN0cyggJ2Jlc3R3ZWJzb2Z0X2luamVjdF9pbmZvJyApICkKIHJlcXVpcmVfb25jZSggZGlybmFtZSggX19GSUxFX18gKSAuICcvYndzX3VwZGF0ZS5waHAnICk7IHJldHVybiBiZXN0d2Vic29mdF9pbmplY3RfaW5mbyggJHJlc3VsdCwgJGFjdGlvbiwgJGFyZ3MsICdjb250YWN0LWZvcm0tbXVsdGktcHJvJyApOwp9IH0gaWYgKCAhIGZ1bmN0aW9uX2V4aXN0cyAoICdjbnRjdGZybW1sdHByX2RlbGV0ZScgKSApIHsgZnVuY3Rpb24gY250Y3Rmcm1tbHRwcl9kZWxldGUoKSB7ICRjbnRjdGZybW1sdHByX29wdGlvbnNfbWFpbiA9IGdldF9vcHRpb24oICdjbnRjdGZybW1sdHByX29wdGlvbnNfbWFpbicgKTsKaWYgKCAhIGlzX211bHRpc2l0ZSgpICkgeyBmb3JlYWNoICggJGNudGN0ZnJtbWx0cHJfb3B0aW9uc19tYWluWyduYW1lX2lkX2Zvcm0nXSBhcyAka2V5ID0+ICR2YWx1ZSApIHsKIGRlbGV0ZV9vcHRpb24oICdjbnRjdGZybW1sdF9vcHRpb25zXycgLiAka2V5ICk7IH0gZGVsZXRlX29wdGlvbiggJ2NudGN0ZnJtbWx0cHJfb3B0aW9uc19tYWluJyApOyBkZWxldGVfb3B0aW9uKCAnY250Y3Rmcm1tbHRfb3B0aW9ucycgKTsKfSBlbHNlIHsgZ2xvYmFsICR3cGRiOyAkY250Y3Rmcm1tbHRwcl9ibG9nX2lkcyA9ICR3cGRiLT5nZXRfY29sKCAiU0VMRUNUIGJsb2dfaWQgRlJPTSAkd3BkYi0+YmxvZ3MiICk7CiRjbnRjdGZybW1sdHByX29yaWdpbmFsX2Jsb2dfaWQgPSBnZXRfY3VycmVudF9ibG9nX2lkKCk7IGZvcmVhY2ggKCAkY250Y3Rmcm1tbHRwcl9ibG9nX2lkcyBhcyAkY250Y3Rmcm1tbHRwcl9ibG9nX2lkICkgewogc3dpdGNoX3RvX2Jsb2coICRjbnRjdGZybW1sdHByX2Jsb2dfaWQgKTsgZm9yZWFjaCAoICRjbnRjdGZybW1sdHByX29wdGlvbnNfbWFpblsnbmFtZV9pZF9mb3JtJ10gYXMgJGtleT0+JHZhbHVlICkgewogZGVsZXRlX29wdGlvbiggJ2NudGN0ZnJtbWx0cHJfb3B0aW9uc18nIC4gJGtleSApOyB9IGRlbGV0ZV9vcHRpb24oICdjbnRjdGZybW1sdHByX29wdGlvbnNfbWFpbicgKTsKZGVsZXRlX29wdGlvbiggJ2NudGN0ZnJtbWx0X29wdGlvbnMnICk7IH0gc3dpdGNoX3RvX2Jsb2coICRjbnRjdGZybW1sdHByX29yaWdpbmFsX2Jsb2dfaWQgKTsgfSB9IH0gYWRkX2FjdGlvbiggJ2FkbWluX21lbnUnLCAnY250Y3Rmcm1tbHRwcl9hZG1pbl9tZW51JyApOwogYWRkX2FjdGlvbiggJ2luaXQnLCAnY250Y3Rmcm1tbHRwcl9pbml0JyApOyBhZGRfYWN0aW9uKCAnYWRtaW5faW5pdCcsICdjbnRjdGZybW1sdHByX2FkbWluX2luaXQnICk7CiBhZGRfYWN0aW9uKCAnYWRtaW5fZW5xdWV1ZV9zY3JpcHRzJywgJ2NudGN0ZnJtbWx0cHJfc2NyaXB0cycgKTsgYWRkX2ZpbHRlciggJ3BsdWdpbl9yb3dfbWV0YScsICdjbnRjdGZybW1sdHByX3BsdWdpbl9saW5rcycsIDEwLCAyICk7CiBhZGRfYWN0aW9uKCAnd3BfYWpheF9jbnRjdGZybW1sdHByX2FjdGlvbicsICdjbnRjdGZybW1sdHByX2FjdGlvbl9jYWxsYmFjaycgKTsgYWRkX2FjdGlvbiggJ2FkbWluX25vdGljZXMnLCAnY250Y3Rmcm1tbHRwcl9zaG93X25vdGljZXMnICk7CmFkZF9hY3Rpb24oICJhZnRlcl9wbHVnaW5fcm93X2NvbnRhY3QtZm9ybS1tdWx0aS1wcm8vY29udGFjdC1mb3JtLW11bHRpLXByby5waHAiLCAnY250Y3Rmcm1tbHRwcl9wbHVnaW5fdXBkYXRlX3JvdycsIDEwLCAyICk7CmFkZF9maWx0ZXIoICdwbHVnaW5zX2FwaScsICdjbnRjdGZybW1sdHByX2luamVjdF9pbmZvJywgMjAsIDMgKTsgYWRkX2FjdGlvbiggJ2NvbnRhY3RfZm9ybV9wcm9fbGljZW5zZV9jcm9uJywgJ2NudGN0ZnJtbWx0cHJfbGljZW5zZV9jcm9uX3Rhc2snICk7CiByZWdpc3Rlcl91bmluc3RhbGxfaG9vayggJ2NvbnRhY3QtZm9ybS1tdWx0aS1wcm8vY29udGFjdC1mb3JtLW11bHRpLXByby5waHAnLCAnY250Y3Rmcm1tbHRwcl9kZWxldGUnICk7'
));
